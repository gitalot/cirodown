<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Cirodown</title>
<style>@import"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css";@import"https://netdna.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css";.cirodown{padding-left:15px;padding-right:15px}.cirodown .hide-hover:last-child{display:none}.cirodown :hover>.hide-hover:last-child{display:inline}.cirodown :target{background-color:#ffc}.cirodown .caption-prefix{font-weight:bold}.cirodown h1 a:link,.cirodown h2 a:link,.cirodown h3 a:link,.cirodown h4 a:link,.cirodown h5 a:link,.cirodown h6 a:link,.cirodown h1 a:visited,.cirodown h2 a:visited,.cirodown h3 a:visited,.cirodown h4 a:visited,.cirodown h5 a:visited,.cirodown h6 a:visited{color:#000}.cirodown h1,.cirodown h2,.cirodown h3,.cirodown h4,.cirodown h5,.cirodown h6{font-size:24px;height:26px;margin-top:20px}.cirodown h1 a+span,.cirodown h2 a+span,.cirodown h3 a+span,.cirodown h4 a+span,.cirodown h5 a+span,.cirodown h6 a+span{display:none}.cirodown h1:hover a+span,.cirodown h2:hover a+span,.cirodown h3:hover a+span,.cirodown h4:hover a+span,.cirodown h5:hover a+span,.cirodown h6:hover a+span{display:inline}.cirodown h1:hover span a:link,.cirodown h2:hover span a:link,.cirodown h3:hover span a:link,.cirodown h4:hover span a:link,.cirodown h5:hover span a:link,.cirodown h6:hover span a:link,.cirodown h1:hover span a:visited,.cirodown h2:hover span a:visited,.cirodown h3:hover span a:visited,.cirodown h4:hover span a:visited,.cirodown h5:hover span a:visited,.cirodown h6:hover span a:visited{color:blue}.cirodown figure{margin-bottom:#c6538c}.cirodown .katex{font-size:1.5em}.cirodown .math-caption-container>:last-child{display:none}.cirodown .math-caption-container:hover>:last-child{display:inline}.cirodown .math-container{align-items:center;margin-bottom:#c6538c}.cirodown .math-equation{align-items:center;display:flex}.cirodown .math-equation>:nth-child(1){flex-grow:9}.cirodown .math-equation>:nth-child(2){flex-grow:1;text-align:right}.cirodown table{border-collapse:collapse}.cirodown table,.cirodown th,.cirodown td{border:1px solid #000}.cirodown th,.cirodown td{padding-left:2px;padding-right:2px}.cirodown .table-caption-container>:last-child{display:none}.cirodown .table-caption-container:hover>:last-child{display:inline}.cirodown .table-container{margin-bottom:#c6538c}.cirodown .toc-container div a+span{display:none}.cirodown .toc-container div:hover a+span{display:inline}.cirodown .toc-container ul{border-left:1px solid #000;list-style-type:none}.cirodown .toc-container>ul{border-left:0px solid #000;padding-left:0px}</style>
<body class="cirodown">
<h1 id="cirodown"><a href="#cirodown" title="link to this element">Cirodown</a></h1>
<p id="p-1">A Markup language to write multipage or single page HTML / PDF books, blogs, etc. that is saner and more powerful than Markdown and Asciidoctor, but still nicer to write than XML and JSON, with reference implementation in JavaScript.<span class="hide-hover"> <a href="#p-1">(ðŸ”— link)</a></span>
</p>
<p id="p-2">The source for this document is at: <a id="a-1" href="https://github.com/cirosantilli/cirodown/blob/master/README.ciro">https://github.com/cirosantilli/cirodown/blob/master/README.ciro</a> and a rendered version can be seen at: <a id="a-2" href="https://cirosantilli.com/cirodown">https://cirosantilli.com/cirodown</a>.<span class="hide-hover"> <a href="#p-2">(ðŸ”— link)</a></span>
</p>
<div class="toc-container">
<ul>
<li><div id="toc-quick-start"><a href="#quick-start" id="toc-1">1. Quick start</a><span> | <a href="#toc-quick-start">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-design-goals"><a href="#design-goals" id="toc-1">2. Design goals</a><span> | <a href="#toc-design-goals">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-saner"><a href="#saner" id="toc-1">2.1. Saner</a><span> | <a href="#toc-saner">ðŸ”— link</a> | <a href="#toc-design-goals">â†‘ parent "Design goals"</a></span></div></li>
<li><div id="toc-more-powerful"><a href="#more-powerful" id="toc-1">2.2. More powerful</a><span> | <a href="#toc-more-powerful">ðŸ”— link</a> | <a href="#toc-design-goals">â†‘ parent "Design goals"</a></span></div></li>
</ul>
<li><div id="toc-paragraphs"><a href="#paragraphs" id="toc-1">3. Paragraphs <code id="c-4">\p</code></a><span> | <a href="#toc-paragraphs">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-links"><a href="#links" id="toc-1">4. Links <code id="c-6">\a</code></a><span> | <a href="#toc-links">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-internal-cross-references"><a href="#internal-cross-references" id="toc-1">5. Internal cross references <code id="c-7">\x</code></a><span> | <a href="#toc-internal-cross-references">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-x-child-argument"><a href="#x-child-argument" id="toc-1">5.1. x child argument</a><span> | <a href="#toc-x-child-argument">ðŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></div></li>
<li><div id="toc-cross-reference-style"><a href="#cross-reference-style" id="toc-1">5.2. Cross reference style</a><span> | <a href="#toc-cross-reference-style">ðŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></div></li>
<li><div id="toc-internal-cross-file-references"><a href="#internal-cross-file-references" id="toc-1">5.3. Internal cross file references</a><span> | <a href="#toc-internal-cross-file-references">ðŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></div></li>
<li><div id="toc-automatic-id-from-title"><a href="#automatic-id-from-title" id="toc-1">5.4. Automatic ID from title</a><span> | <a href="#toc-automatic-id-from-title">ðŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></div></li>
</ul>
<li><div id="toc-headers"><a href="#headers" id="toc-1">6. Headers <code id="c-19">\h</code></a><span> | <a href="#toc-headers">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-unlimited-header-levels"><a href="#unlimited-header-levels" id="toc-1">6.1. Unlimited header levels</a><span> | <a href="#toc-unlimited-header-levels">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div>
<ul>
<li><div id="toc-my-h4"><a href="#my-h4" id="toc-1">6.1.1. My h4</a><span> | <a href="#toc-my-h4">ðŸ”— link</a> | <a href="#toc-unlimited-header-levels">â†‘ parent "Unlimited header levels"</a></span></div>
<ul>
<li><div id="toc-my-h5"><a href="#my-h5" id="toc-1">6.1.1.1. My h5</a><span> | <a href="#toc-my-h5">ðŸ”— link</a> | <a href="#toc-my-h4">â†‘ parent "My h4"</a></span></div>
<ul>
<li><div id="toc-my-h6"><a href="#my-h6" id="toc-1">6.1.1.1.1. My h6</a><span> | <a href="#toc-my-h6">ðŸ”— link</a> | <a href="#toc-my-h5">â†‘ parent "My h5"</a></span></div>
<ul>
<li><div id="toc-my-h7"><a href="#my-h7" id="toc-1">6.1.1.1.1.1. My h7</a><span> | <a href="#toc-my-h7">ðŸ”— link</a> | <a href="#toc-my-h6">â†‘ parent "My h6"</a></span></div>
<ul>
<li><div id="toc-my-h8"><a href="#my-h8" id="toc-1">6.1.1.1.1.1.1. My h8</a><span> | <a href="#toc-my-h8">ðŸ”— link</a> | <a href="#toc-my-h7">â†‘ parent "My h7"</a></span></div>
<ul>
<li><div id="toc-my-h9"><a href="#my-h9" id="toc-1">6.1.1.1.1.1.1.1. My h9</a><span> | <a href="#toc-my-h9">ðŸ”— link</a> | <a href="#toc-my-h8">â†‘ parent "My h8"</a></span></div>
<ul>
<li><div id="toc-my-h10"><a href="#my-h10" id="toc-1">6.1.1.1.1.1.1.1.1. My h10</a><span> | <a href="#toc-my-h10">ðŸ”— link</a> | <a href="#toc-my-h9">â†‘ parent "My h9"</a></span></div>
<ul>
<li><div id="toc-my-h11"><a href="#my-h11" id="toc-1">6.1.1.1.1.1.1.1.1.1. My h11</a><span> | <a href="#toc-my-h11">ðŸ”— link</a> | <a href="#toc-my-h10">â†‘ parent "My h10"</a></span></div>
<ul>
<li><div id="toc-my-h12"><a href="#my-h12" id="toc-1">6.1.1.1.1.1.1.1.1.1.1. My h12</a><span> | <a href="#toc-my-h12">ðŸ”— link</a> | <a href="#toc-my-h11">â†‘ parent "My h11"</a></span></div>
<ul>
<li><div id="toc-my-h13"><a href="#my-h13" id="toc-1">6.1.1.1.1.1.1.1.1.1.1.1. My h13</a><span> | <a href="#toc-my-h13">ðŸ”— link</a> | <a href="#toc-my-h12">â†‘ parent "My h12"</a></span></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<li><div id="toc-table-of-contents"><a href="#table-of-contents" id="toc-1">6.2. Table of contents <code id="c-23">\toc</code></a><span> | <a href="#toc-table-of-contents">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div>
<ul>
<li><div id="toc-id-scope"><a href="#id-scope" id="toc-1">6.2.1. id_scope</a><span> | <a href="#toc-id-scope">ðŸ”— link</a> | <a href="#toc-table-of-contents">â†‘ parent "Table of contents <code id="c-23">\toc</code>"</a></span></div></li>
</ul>
<li><div id="toc-header-explicit-levels-vs-nesting-design-choice"><a href="#header-explicit-levels-vs-nesting-design-choice" id="toc-1">6.3. Header explicit levels vs nesting design choice</a><span> | <a href="#toc-header-explicit-levels-vs-nesting-design-choice">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div></li>
<li><div id="toc-includes"><a href="#includes" id="toc-1">6.4. Includes <code id="c-28">\include</code></a><span> | <a href="#toc-includes">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div></li>
<li><div id="toc-skipping-header-levels"><a href="#skipping-header-levels" id="toc-1">6.5. Skipping header levels</a><span> | <a href="#toc-skipping-header-levels">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div></li>
<li><div id="toc-the-toplevel-header"><a href="#the-toplevel-header" id="toc-1">6.6. The toplevel header</a><span> | <a href="#toc-the-toplevel-header">ðŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></div></li>
</ul>
<li><div id="toc-lists"><a href="#lists" id="toc-1">7. Lists <code id="c-35">\l</code></a><span> | <a href="#toc-lists">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-images"><a href="#images" id="toc-1">8. Images <code id="c-36">\image</code></a><span> | <a href="#toc-images">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-where-to-store-images"><a href="#where-to-store-images" id="toc-1">8.1. Where to store images</a><span> | <a href="#toc-where-to-store-images">ðŸ”— link</a> | <a href="#toc-images">â†‘ parent "Images <code id="c-36">\image</code>"</a></span></div></li>
<li><div id="toc-image-generators"><a href="#image-generators" id="toc-1">8.2. Image generators</a><span> | <a href="#toc-image-generators">ðŸ”— link</a> | <a href="#toc-images">â†‘ parent "Images <code id="c-36">\image</code>"</a></span></div></li>
</ul>
<li><div id="toc-code"><a href="#code" id="toc-1">9. Code <code id="c-46">\c</code> and <code id="c-47">\C</code></a><span> | <a href="#toc-code">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-math"><a href="#math" id="toc-1">10. Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a><span> | <a href="#toc-math">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-math-defines-across-blocks"><a href="#math-defines-across-blocks" id="toc-1">10.1. Math defines across blocks</a><span> | <a href="#toc-math-defines-across-blocks">ðŸ”— link</a> | <a href="#toc-math">â†‘ parent "Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code>"</a></span></div></li>
</ul>
<li><div id="toc-tables"><a href="#tables" id="toc-1">11. Tables <code id="c-58">\table</code>, <code id="c-59">\tr</code>, <code id="c-60">\th</code> and <code id="c-61">\td</code></a><span> | <a href="#toc-tables">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-comments"><a href="#comments" id="toc-1">12. Comments</a><span> | <a href="#toc-comments">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-cirodown-syntax"><a href="#cirodown-syntax" id="toc-1">13. Cirodown syntax</a><span> | <a href="#toc-cirodown-syntax">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-macro-argument-syntax"><a href="#macro-argument-syntax" id="toc-1">13.1. Macro argument syntax</a><span> | <a href="#toc-macro-argument-syntax">ðŸ”— link</a> | <a href="#toc-cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li><div id="toc-positional-vs-named-arguments"><a href="#positional-vs-named-arguments" id="toc-1">13.1.1. Positional vs named arguments</a><span> | <a href="#toc-positional-vs-named-arguments">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-javascript-interface-for-arguments"><a href="#javascript-interface-for-arguments" id="toc-1">13.1.2. JavaScript interface for arguments</a><span> | <a href="#toc-javascript-interface-for-arguments">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-newlines-between-arguments"><a href="#newlines-between-arguments" id="toc-1">13.1.3. Newlines between arguments</a><span> | <a href="#toc-newlines-between-arguments">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-escape-characters"><a href="#escape-characters" id="toc-1">13.1.4. Escape characters</a><span> | <a href="#toc-escape-characters">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-literal-arguments"><a href="#literal-arguments" id="toc-1">13.1.5. Literal arguments</a><span> | <a href="#toc-literal-arguments">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-leading-newline-removal"><a href="#argument-leading-newline-removal" id="toc-1">13.1.6. Argument leading newline removal</a><span> | <a href="#toc-argument-leading-newline-removal">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-automatic-indentation-removal"><a href="#argument-automatic-indentation-removal" id="toc-1">13.1.7. Argument automatic indentation removal</a><span> | <a href="#toc-argument-automatic-indentation-removal">ðŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
</ul>
<li><div id="toc-macro-capitalization-for-block-vs-inline"><a href="#macro-capitalization-for-block-vs-inline" id="toc-1">13.2. Macro capitalization for block vs inline</a><span> | <a href="#toc-macro-capitalization-for-block-vs-inline">ðŸ”— link</a> | <a href="#toc-cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></div></li>
</ul>
<li><div id="toc-tooling"><a href="#tooling" id="toc-1">14. Tooling</a><span> | <a href="#toc-tooling">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-cirodown-executable"><a href="#cirodown-executable" id="toc-1">14.1. <code id="c-72">cirodown</code> executable</a><span> | <a href="#toc-cirodown-executable">ðŸ”— link</a> | <a href="#toc-tooling">â†‘ parent "Tooling"</a></span></div>
<ul>
<li><div id="toc-cirodown-executable-most-important-options"><a href="#cirodown-executable-most-important-options" id="toc-1">14.1.1. <code id="c-83">cirodown</code> executable most important options</a><span> | <a href="#toc-cirodown-executable-most-important-options">ðŸ”— link</a> | <a href="#toc-cirodown-executable">â†‘ parent "<code id="c-72">cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-watch"><a href="#watch" id="toc-1">14.1.1.1. <code id="c-84">--watch</code></a><span> | <a href="#toc-watch">ðŸ”— link</a> | <a href="#toc-cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></div></li>
<li><div id="toc-publish"><a href="#publish" id="toc-1">14.1.1.2. <code id="c-91">--publish</code></a><span> | <a href="#toc-publish">ðŸ”— link</a> | <a href="#toc-cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></div>
<ul>
<li><div id="toc-code-publish-to-github-pages-code"><a href="#code-publish-to-github-pages-code" id="toc-1">14.1.1.2.1. <code id="c-92">Publish to GitHub Pages</code></a><span> | <a href="#toc-code-publish-to-github-pages-code">ðŸ”— link</a> | <a href="#toc-publish">â†‘ parent "<code id="c-91">--publish</code>"</a></span></div></li>
</ul>
<li><div id="toc-publish-commit"><a href="#publish-commit" id="toc-1">14.1.1.3. <code id="c-108">--publish-commit &lt;commit-message&gt;</code></a><span> | <a href="#toc-publish-commit">ðŸ”— link</a> | <a href="#toc-cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></div></li>
<li><div id="toc-help-macros"><a href="#help-macros" id="toc-1">14.1.1.4. <code id="c-109">--help-macros</code></a><span> | <a href="#toc-help-macros">ðŸ”— link</a> | <a href="#toc-cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></div></li>
<li><div id="toc-html-embed"><a href="#html-embed" id="toc-1">14.1.1.5. <code id="c-110">--html-embed</code></a><span> | <a href="#toc-html-embed">ðŸ”— link</a> | <a href="#toc-cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></div></li>
</ul>
<li><div id="toc-cirodown-json"><a href="#cirodown-json" id="toc-1">14.1.2. <code id="c-111">cirodown.json</code></a><span> | <a href="#toc-cirodown-json">ðŸ”— link</a> | <a href="#toc-cirodown-executable">â†‘ parent "<code id="c-72">cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-media-source-type"><a href="#media-source-type" id="toc-1">14.1.2.1. <code id="c-112">media_source_type</code></a><span> | <a href="#toc-media-source-type">ðŸ”— link</a> | <a href="#toc-cirodown-json">â†‘ parent "<code id="c-111">cirodown.json</code>"</a></span></div></li>
<li><div id="toc-media-base-url"><a href="#media-base-url" id="toc-1">14.1.2.2. <code id="c-113">media_base_url</code></a><span> | <a href="#toc-media-base-url">ðŸ”— link</a> | <a href="#toc-cirodown-json">â†‘ parent "<code id="c-111">cirodown.json</code>"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-editor-with-preview"><a href="#editor-with-preview" id="toc-1">14.2. Editor with preview</a><span> | <a href="#toc-editor-with-preview">ðŸ”— link</a> | <a href="#toc-tooling">â†‘ parent "Tooling"</a></span></div></li>
</ul>
<li><div id="toc-developing-cirodown"><a href="#developing-cirodown" id="toc-1">15. Developing Cirodown</a><span> | <a href="#toc-developing-cirodown">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-test-system"><a href="#test-system" id="toc-1">15.1. Test system</a><span> | <a href="#toc-test-system">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-overview-of-files-in-this-repository"><a href="#overview-of-files-in-this-repository" id="toc-1">15.2. Overview of files in this repository</a><span> | <a href="#toc-overview-of-files-in-this-repository">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-internals-api"><a href="#internals-api" id="toc-1">15.3. Internals API</a><span> | <a href="#toc-internals-api">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-toplevel"><a href="#toplevel" id="toc-1">15.4. The <code id="c-167">\toplevel</code> implicit macro</a><span> | <a href="#toc-toplevel">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-html-document-title"><a href="#html-document-title" id="toc-1">15.4.1. HTML document title</a><span> | <a href="#toc-html-document-title">ðŸ”— link</a> | <a href="#toc-toplevel">â†‘ parent "The <code id="c-167">\toplevel</code> implicit macro"</a></span></div></li>
</ul>
<li><div id="toc-css"><a href="#css" id="toc-1">15.5. CSS</a><span> | <a href="#toc-css">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-formal-grammar"><a href="#formal-grammar" id="toc-1">15.6. Formal grammar</a><span> | <a href="#toc-formal-grammar">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-todo"><a href="#todo" id="toc-1">15.7. TODO</a><span> | <a href="#toc-todo">ðŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
</ul>
<li><div id="toc-related-projects"><a href="#related-projects" id="toc-1">16. Related projects</a><span> | <a href="#toc-related-projects">ðŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
</ul>
</div>
<h2 id="quick-start"><a href="#quick-start" title="link to this element">1. Quick start</a><span>  | <a href="#toc-quick-start">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-3">Install NPM package and use it from the command line for a quick conversion:<span class="hide-hover"> <a href="#p-3">(ðŸ”— link)</a></span>
</p>
<pre id="c-1"><code>npm install cirodown
printf 'ab\ncd\n' | cirodown --body-only
</code></pre>
<p id="p-4">Same with an API call in <a id="a-3" href="api_hello.js">api_hello.js</a>:<span class="hide-hover"> <a href="#p-4">(ðŸ”— link)</a></span>
</p>
<pre id="c-2"><code>npm install cirodown
./api_hello.js
</code></pre>
<p id="p-5">Play with it in a still crappy <a href="#editor-with-preview" id="x-1">live browser editor</a> (currently only works from a clone):<span class="hide-hover"> <a href="#p-5">(ðŸ”— link)</a></span>
</p>
<pre id="c-3"><code>git clone https://github.com/cirosantilli/cirodown-template
cd cirodown-template
npm install
./build
xdg-open editor.html
</code></pre>
<p id="p-6">For a minimal but convenient project template with a <code id="c-1">.gitignore</code> and <code id="c-2">package.json</code>, consider:<span class="hide-hover"> <a href="#p-6">(ðŸ”— link)</a></span>
</p>
<pre id="c-4"><code>git clone https://github.com/cirosantilli/cirodown-template
cd cirodown-template
cirodown .
</code></pre>
<p id="p-7">Run the latest master on README.ciro and view it:<span class="hide-hover"> <a href="#p-7">(ðŸ”— link)</a></span>
</p>
<pre id="c-5"><code>git clone https://github.com/cirosantilli/cirodown
cd cirodown
npm link
npm link cirodown
./cirodown README.ciro &gt; index.html
xdg-open index.html
</code></pre>
<p id="p-8">The <code id="c-3">npm link</code> commands allow you to make changes to the code without re-installing the package all the time for development! Try hacking <a id="a-4" href="cirodown">cirodown</a> to see it. Just remember that if you add a new dependency, you must redo the symlinking business:<span class="hide-hover"> <a href="#p-8">(ðŸ”— link)</a></span>
</p>
<pre id="c-6"><code>npm install &lt;dependency&gt;
npm link
npm link browserify-hello-world
</code></pre>
<p id="p-9">Asked if there is a better way at: <a id="a-5" href="https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo">https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo</a>.<span class="hide-hover"> <a href="#p-9">(ðŸ”— link)</a></span>
</p>
<p id="p-10">The symlink business can be undone with:<span class="hide-hover"> <a href="#p-10">(ðŸ”— link)</a></span>
</p>
<pre id="c-7"><code>npm unlink
rm node_modules/cirodown
</code></pre>
<p id="p-11">TODO: create a multifile blog example folder and link from here.<span class="hide-hover"> <a href="#p-11">(ðŸ”— link)</a></span>
</p>
<h2 id="design-goals"><a href="#design-goals" title="link to this element">2. Design goals</a><span>  | <a href="#toc-design-goals">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-12">Cirodown is designed entirely to allow writing complex professional HTML and PDF scientific books, blogs, articles and encyclopedias.<span class="hide-hover"> <a href="#p-12">(ðŸ”— link)</a></span>
</p>
<p id="p-13">Cirodown aims to be the ultimate LaTeX "killer", allowing books to be finally published as either HTML or PDF painlessly (LaTeX being only a backend to PDF generation), supporting out of the box feature such as:<span class="hide-hover"> <a href="#p-13">(ðŸ”— link)</a></span>
</p>
<ul id="ul-1">
<li id="l-1"><a href="#internal-cross-references" id="x-40">references</a> to <a href="#headers" id="x-41">headers</a>, <a href="#images" id="x-42">images</a>, etc. with error checking: never break internal links gain</li>
<li id="l-2">KaTeX server side <a href="#math" id="x-43">Mathematics</a></li>
<li id="l-3">multi file features out of the box so you don't need a separate wrapper like Jekyll to make a multi-page website:
  <ul id="ul-29">
<li id="l-67"><a href="#internal-cross-file-references" id="x-52">Internal cross file references</a></li>
</ul>
  <ul id="ul-30">
<li id="l-68"><a href="#table-of-contents" id="x-53">table of contents</a> that crosses input files</li>
</ul>
  <ul id="ul-31">
<li id="l-69"><code id="c-174">inotifywait</code> watch rebuild server</li>
</ul>
  <ul id="ul-32">
<li id="l-70">cross file includes that work as links on multi output file mode, and true includes in single output file mode</li>
</ul>
  <ul id="ul-33">
<li id="l-71">cross file configuration files to factor out common page parts like headers and footers</li>
</ul>
</li>
</ul>
<p id="p-14">It is meant to be both saner and more powerful than Markdown and Asciidoctor.<span class="hide-hover"> <a href="#p-14">(ðŸ”— link)</a></span>
</p>
<p id="p-15">The tradeoff for those features is that the language is slightly heavier to read and write.<span class="hide-hover"> <a href="#p-15">(ðŸ”— link)</a></span>
</p>
<p id="p-16">It is intended that this will be an acceptable downside as Cirodown will be used primarily large complex content such as books rather than forum posts, and will therefore primarily written either:<span class="hide-hover"> <a href="#p-16">(ðŸ”— link)</a></span>
</p>
<ul id="ul-2">
<li id="l-4">in text editors locally, where users have more features than in random browser textareas</li>
<li id="l-5">in a dedicated website that will revolutionize education, and therefore have a good JavaScript editing interface: <a id="a-14" href="https://github.com/cirosantilli/write-free-science-books-to-get-famous-website">https://github.com/cirosantilli/write-free-science-books-to-get-famous-website</a></li>
</ul>
<h3 id="saner"><a href="#saner" title="link to this element">2.1. Saner</a><span>  | <a href="#toc-saner">â‡‘ toc</a> | <a href="#design-goals">â†‘ parent "Design goals"</a></span></h3>
<p id="p-17">To be saner than both Markdown and Asciidoctor, Cirodown has exactly five magic characters, with similar functions as in LaTeX:<span class="hide-hover"> <a href="#p-17">(ðŸ”— link)</a></span>
</p>
<ul id="ul-3">
<li id="l-6"><code id="c-114">\</code> backslash to start a macro, like LaTeX</li>
<li id="l-7"><code id="c-115">{</code> and <code id="c-116">}</code>: left and right square brackets to delimit optional macro arguments</li>
<li id="l-8"><code id="c-117">[</code> and <code id="c-118">]</code>: left and right curly braces bracket to start an optional arguments</li>
</ul>
<p id="p-18">And double blank newlines for <a href="#paragraphs" id="x-2">paragraphs</a> if you are pedantic.<span class="hide-hover"> <a href="#p-18">(ðŸ”— link)</a></span>
</p>
<p id="p-19">We would like to have only square brackets for both optional and mandatory to have even less magic characters, but that would make the language difficult to parse for computer and humans. LaTeX was right for once!<span class="hide-hover"> <a href="#p-19">(ðŸ”— link)</a></span>
</p>
<p id="p-20">This produces a very regular syntax that is easy to learn, including doing:<span class="hide-hover"> <a href="#p-20">(ðŸ”— link)</a></span>
</p>
<ul id="ul-4">
<li id="l-9">arbitrary nesting of elements</li>
<li id="l-10">adding arbitrary properties to elements</li>
</ul>
<p id="p-21">This sanity also makes the end tail learning curve of the endless edge cases found in Markdown and Asciidoctor disappear.<span class="hide-hover"> <a href="#p-21">(ðŸ”— link)</a></span>
</p>
<p id="p-22">The language is designed to be philosophically isomorphic to HTML to:<span class="hide-hover"> <a href="#p-22">(ðŸ”— link)</a></span>
</p>
<ul id="ul-5">
<li id="l-11">further reduce the learning curve</li>
<li id="l-12">ensure that most of HTML constructs can be reached, including arbitrary nesting</li>
</ul>
<p id="p-23">More precisely:<span class="hide-hover"> <a href="#p-23">(ðŸ”— link)</a></span>
</p>
<ul id="ul-6">
<li id="l-13">macro names map to tag names, e.g.: <code id="c-119">\a</code> to <code id="c-120">&lt;a</code></li>
<li id="l-14"><p id="p-228">  one of the arguments of macros, maps to the content of the HTML element, and the others map to attributes.<span class="hide-hover"> <a href="#p-228">(ðŸ”— link)</a></span>
</p>
<p id="p-229">  E.g., in a link:<span class="hide-hover"> <a href="#p-229">(ðŸ”— link)</a></span>
</p>
<p id="p-230">  <pre id="c-73"><code>\a[http://example.com][Link text]</code></pre>
<span class="hide-hover"> <a href="#p-230">(ðŸ”— link)</a></span>
</p>
<p id="p-231">  the first macro argument:<span class="hide-hover"> <a href="#p-231">(ðŸ”— link)</a></span>
</p>
<p id="p-232">  <pre id="c-74"><code>http://example.com</code></pre>
<span class="hide-hover"> <a href="#p-232">(ðŸ”— link)</a></span>
</p>
<p id="p-233">  maps to the <code id="c-148">href</code> of <code id="c-149">&lt;a</code>, and the second macro argument:<span class="hide-hover"> <a href="#p-233">(ðŸ”— link)</a></span>
</p>
<p id="p-234">  <pre id="c-75"><code>Link text</code></pre>
<span class="hide-hover"> <a href="#p-234">(ðŸ”— link)</a></span>
</p>
<p id="p-235">  maps to the internal content of <code id="c-150">&lt;a&gt;Link text&lt;&gt;</code><span class="hide-hover"> <a href="#p-235">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<h3 id="more-powerful"><a href="#more-powerful" title="link to this element">2.2. More powerful</a><span>  | <a href="#toc-more-powerful">â‡‘ toc</a> | <a href="#design-goals">â†‘ parent "Design goals"</a></span></h3>
<p id="p-24">The <a href="#saner" id="x-3">high sanity of Cirodown</a>, also makes creating new macro extensions extremely easy and intuitive.<span class="hide-hover"> <a href="#p-24">(ðŸ”— link)</a></span>
</p>
<p id="p-25">All built-in language features use the exact same API as new extensions, which ensures that the extension API is sane forever.<span class="hide-hover"> <a href="#p-25">(ðŸ”— link)</a></span>
</p>
<p id="p-26">Markdown is clearly missing many key features such as block attributes and <a href="#internal-cross-references" id="x-4">Internal cross references <code id="c-7">\x</code></a>, and has no standardized extension mechanism.<span class="hide-hover"> <a href="#p-26">(ðŸ”— link)</a></span>
</p>
<p id="p-27">The "more powerful than Asciidoctor" part is only partially true, since Asciidoctor is very featureful can do basically anything through extensions.<span class="hide-hover"> <a href="#p-27">(ðŸ”— link)</a></span>
</p>
<p id="p-28">The difference is mostly that Cirodown is completely and entirely focused on making amazing scientific books, and so will have key features for that application out-of-the box.<span class="hide-hover"> <a href="#p-28">(ðŸ”— link)</a></span>
</p>
<p id="p-29">Another advantage over Asciidoctor is that the reference implementation of Cirodown is in JavaScript, and can therefore be used on browser live preview out of the box. Asciidoctor does Transpile to JS with <a id="a-6" href="https://github.com/opal/opal">Opal</a>, but who wants to deal with that layer of complexity?<span class="hide-hover"> <a href="#p-29">(ðŸ”— link)</a></span>
</p>
<h2 id="paragraphs"><a href="#paragraphs" title="link to this element">3. Paragraphs <code id="c-4">\p</code></a><span>  | <a href="#toc-paragraphs">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-30">OK, this is too common, so we opted for some insanity here: double newline is a paragraph!<span class="hide-hover"> <a href="#p-30">(ðŸ”— link)</a></span>
</p>
<p id="p-31">Paragraph 1.<span class="hide-hover"> <a href="#p-31">(ðŸ”— link)</a></span>
</p>
<p id="p-32">Paragraph 2.<span class="hide-hover"> <a href="#p-32">(ðŸ”— link)</a></span>
</p>
<p id="p-33">Equivalently however, you can use an explicit <code id="c-5">\p</code> macros as well, which is required for example to add properties to a paragraph, e.g.:<span class="hide-hover"> <a href="#p-33">(ðŸ”— link)</a></span>
</p>
<p id="paragraph-1">Paragraph 1<span class="hide-hover"> <a href="#paragraph-1">(ðŸ”— link)</a></span>
</p>
<p id="paragraph-2">Paragraph 2<span class="hide-hover"> <a href="#paragraph-2">(ðŸ”— link)</a></span>
</p>
<p id="p-36">Paragraphs are created automatically inside <a href="#macro-argument-syntax" id="x-5">macro argument</a> whenever a double newline appears.<span class="hide-hover"> <a href="#p-36">(ðŸ”— link)</a></span>
</p>
<p id="p-37">Due to their insane syntax, paragraphs have to do some magic to determine where they start and end. TODO: mention the rule that paragraphs wrap only phrasing content, link to: <a href="#help-macros" id="x-6"><code id="c-109">--help-macros</code></a>.<span class="hide-hover"> <a href="#p-37">(ðŸ”— link)</a></span>
</p>
<h2 id="links"><a href="#links" title="link to this element">4. Links <code id="c-6">\a</code></a><span>  | <a href="#toc-links">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-38">Autolink (link text is the same as the link): <a id="a-7" href="http://example.com">http://example.com</a>.<span class="hide-hover"> <a href="#p-38">(ðŸ”— link)</a></span>
</p>
<p id="p-39">Link with custom text: <a id="a-8" href="http://example.com">my custom link text</a>.<span class="hide-hover"> <a href="#p-39">(ðŸ”— link)</a></span>
</p>
<p id="p-40"><a id="a-9" href="http://example.com"><p id="p-236">Multiple<span class="hide-hover"> <a href="#p-236">(ðŸ”— link)</a></span>
</p>
<p id="p-237">paragraphs<span class="hide-hover"> <a href="#p-237">(ðŸ”— link)</a></span>
</p>
</a><span class="hide-hover"> <a href="#p-40">(ðŸ”— link)</a></span>
</p>
<h2 id="internal-cross-references"><a href="#internal-cross-references" title="link to this element">5. Internal cross references <code id="c-7">\x</code></a><span>  | <a href="#toc-internal-cross-references">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-41">Every macro in Cirodown can have an optional <code id="c-8">id</code> and a <code id="c-9">title</code> property.<span class="hide-hover"> <a href="#p-41">(ðŸ”— link)</a></span>
</p>
<p id="p-42">Those that have a <code id="c-10">title</code> but no <code id="c-11">id</code>, get an auto-generated ID from the title: <a href="#automatic-id-from-title" id="x-7">Automatic ID from title</a>.<span class="hide-hover"> <a href="#p-42">(ðŸ”— link)</a></span>
</p>
<p id="p-43">For macros that do have an ID, you can write a cross reference to it:<span class="hide-hover"> <a href="#p-43">(ðŸ”— link)</a></span>
</p>
<h3 id="x-child-argument"><a href="#x-child-argument" title="link to this element">5.1. x child argument</a><span>  | <a href="#toc-x-child-argument">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></h3>
<p id="p-44">Setting <code id="c-12">child=1</code> on a cross reference to a header as in:<span class="hide-hover"> <a href="#p-44">(ðŸ”— link)</a></span>
</p>
<pre id="c-8"><code>\xref[my-header]{child=1}
</code></pre>
<p id="p-45">has the following effects:<span class="hide-hover"> <a href="#p-45">(ðŸ”— link)</a></span>
</p>
<ul id="ul-7">
<li id="l-15">add the current header to the list of extra parents of the child</li>
</ul>
<p id="p-46">This allows a section to have multiple parents, e.g. to include it into multiple categories.<span class="hide-hover"> <a href="#p-46">(ðŸ”— link)</a></span>
</p>
<p id="p-47">For example:<span class="hide-hover"> <a href="#p-47">(ðŸ”— link)</a></span>
</p>
<pre id="c-9"><code>\h[1][Animals]

\h[2][Mammals]

\h[3][Dog]

\h[3][Cat]

\h[2][Cute animals]

Cute animals:

\l[\xref[dog]{child=1}]
\l[\xref[cat]]
</code></pre>
<p id="p-48">would render something like:<span class="hide-hover"> <a href="#p-48">(ðŸ”— link)</a></span>
</p>
<pre id="c-10"><code>h1 Animals

h2 Mammals

h3 Dog (parent section: Mammals)
(other parent sections: Cute animals)

h3 Cat (parent section: Mammals)

\h[2][Cute animals]

\l[\xref[dog]]
\l[\xref[cat]]
</code></pre>
<p id="p-49">so note how "Dog" has a list of extra parents including "Cute animals", but Cat does not, due to the <code id="c-13">child=1</code>.<span class="hide-hover"> <a href="#p-49">(ðŸ”— link)</a></span>
</p>
<p id="p-50">This property does not affect how the <a href="#table-of-contents" id="x-8"><code id="c-121">\toc</code></a> is rendered. We could insert elements sections there multiple times, but it has the downside that browser Ctrl + F searches would hit the same thing multiple times on the table of contents, which might make finding things harder.<span class="hide-hover"> <a href="#p-50">(ðŸ”— link)</a></span>
</p>
<pre id="c-11"><code>\h[2][My title]{id=my-id}

Read this \x[my-id][amazing section].
</code></pre>
<p id="p-51">If the second argument, the <code id="c-14">content</code>, is not present, it expand to the header title, e.g.:<span class="hide-hover"> <a href="#p-51">(ðŸ”— link)</a></span>
</p>
<pre id="c-12"><code>\h[2][My title]{id=my-id}

Read this \x[my-id].
</code></pre>
<p id="p-52">is the same as:<span class="hide-hover"> <a href="#p-52">(ðŸ”— link)</a></span>
</p>
<pre id="c-13"><code>\h[2][My title]{id=my-id}

Read this \x[my-id][My title].
</code></pre>
<h3 id="cross-reference-style"><a href="#cross-reference-style" title="link to this element">5.2. Cross reference style</a><span>  | <a href="#toc-cross-reference-style">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></h3>
<p id="p-53">To also show the section auto-generated number as in "Section X.Y My title" we add the optional <code id="c-15">{style=full}</code> <a href="#positional-vs-named-arguments" id="x-9">named parameter</a> to the cross reference, for example:<span class="hide-hover"> <a href="#p-53">(ðŸ”— link)</a></span>
</p>
<pre id="c-14"><code>\h[2][My title]{id=my-id}

Read this \x[my-id]{style=full}.
</code></pre>
<p id="p-54">Example: <a href="#cross-reference-style" id="x-10">Section 5.2. "Cross reference style"</a>.<span class="hide-hover"> <a href="#p-54">(ðŸ”— link)</a></span>
</p>
<h3 id="internal-cross-file-references"><a href="#internal-cross-file-references" title="link to this element">5.3. Internal cross file references</a><span>  | <a href="#toc-internal-cross-file-references">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></h3>
<p id="p-55">TODO<span class="hide-hover"> <a href="#p-55">(ðŸ”— link)</a></span>
</p>
<pre id="c-15"><code>Reference to the first header of another file: \x[not-readme]. That header gets its ID from the file name by default.

Reference to an internal header of another file: \x[h2-in-not-the-readme]. By default, That header ID gets prefixed by the ID of the top header.
</code></pre>
<h3 id="automatic-id-from-title"><a href="#automatic-id-from-title" title="link to this element">5.4. Automatic ID from title</a><span>  | <a href="#toc-automatic-id-from-title">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code id="c-7">\x</code>"</a></span></h3>
<p id="p-56">If a macro has the <code id="c-16">title</code> property is present but no explicit <code id="c-17">id</code>, an ID is created automatically from the <code id="c-18">title</code>, by applying the following transformations:<span class="hide-hover"> <a href="#p-56">(ðŸ”— link)</a></span>
</p>
<ul id="ul-8">
<li id="l-16">convert all of <code id="c-122">A-Z</code> characters to lowercase</li>
<li id="l-17">convert consecutive sequences of all non <code id="c-123">a-z0-9</code> ASCII characters to a single hyphen <code id="c-124">-</code>. Note that this leaves non-ASCII character untouched.</li>
<li id="l-18">strip leading or trailing hyphens</li>
</ul>
<p id="p-57">Note how those rules leave non ASCII Unicode characters untouched, as capitalization and determining if something "is a letter or not" in those cases can be tricky.<span class="hide-hover"> <a href="#p-57">(ðŸ”— link)</a></span>
</p>
<p id="p-58">So for example, the following automatic IDs would be generated: <a href="#table-examples-of-automatically-generated-ids" id="x-11">Table 1. "Examples of automatically generated IDs"</a>.<span class="hide-hover"> <a href="#p-58">(ðŸ”— link)</a></span>
</p>
<div class="table-container" id="table-examples-of-automatically-generated-ids">
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 1</span>. Examples of automatically generated IDs</span><span> <a href="#table-examples-of-automatically-generated-ids">(ðŸ”— link)</a></span>
</div>
<table>
<tr id="tr-1">
  <th id="th-1">title</th>
  <th id="th-2">id</th>
  <th id="th-3">comments</th>
</tr>
<tr id="tr-2">
  <td id="td-1">My favorite title</td>
  <td id="td-2">my-favorite-title</td>
  <td id="td-3"></td>
</tr>
<tr id="tr-3">
  <td id="td-4">Ciro's markdown is awesome</td>
  <td id="td-5">ciro-s-markdown-is-awesome</td>
  <td id="td-6"></td>
</tr>
<tr id="tr-4">
  <td id="td-7">The Ã‰cole Polytechnique</td>
  <td id="td-8">the-Ã‰cole-polytechnique</td>
  <td id="td-9">We leave the non ASCII uppercase <a id="a-15" href="https://en.wikipedia.org/wiki/Acute_accent">acute accented</a> <code id="c-151">e</code>, <code id="c-152">Ã‰</code>, untouched by default</td>
</tr>
</table>
</div>
<h2 id="headers"><a href="#headers" title="link to this element">6. Headers <code id="c-19">\h</code></a><span>  | <a href="#toc-headers">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="unlimited-header-levels"><a href="#unlimited-header-levels" title="link to this element">6.1. Unlimited header levels</a><span>  | <a href="#toc-unlimited-header-levels">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-59">There is no limit to how many levels we can have!<span class="hide-hover"> <a href="#p-59">(ðŸ”— link)</a></span>
</p>
<p id="p-60">HTML is randomly limited to <code id="c-20">h6</code>, so Cirodown just renders higher levels as an <code id="c-21">h6</code> with a <code id="c-22">data-level</code> attribute to indicate the actual level for possible CSS styling:<span class="hide-hover"> <a href="#p-60">(ðŸ”— link)</a></span>
</p>
<pre id="c-16"><code>&lt;h6 data-level="7"&gt;My title&lt;/h6&gt;
</code></pre>
<h4 id="my-h4"><a href="#my-h4" title="link to this element">6.1.1. My h4</a><span>  | <a href="#toc-my-h4">â‡‘ toc</a> | <a href="#unlimited-header-levels">â†‘ parent "Unlimited header levels"</a></span></h4>
<h5 id="my-h5"><a href="#my-h5" title="link to this element">6.1.1.1. My h5</a><span>  | <a href="#toc-my-h5">â‡‘ toc</a> | <a href="#my-h4">â†‘ parent "My h4"</a></span></h5>
<h6 id="my-h6"><a href="#my-h6" title="link to this element">6.1.1.1.1. My h6</a><span>  | <a href="#toc-my-h6">â‡‘ toc</a> | <a href="#my-h5">â†‘ parent "My h5"</a></span></h6>
<h6 data-level="7" id="my-h7"><a href="#my-h7" title="link to this element">6.1.1.1.1.1. My h7</a><span>  | <a href="#toc-my-h7">â‡‘ toc</a> | <a href="#my-h6">â†‘ parent "My h6"</a></span></h6>
<h6 data-level="8" id="my-h8"><a href="#my-h8" title="link to this element">6.1.1.1.1.1.1. My h8</a><span>  | <a href="#toc-my-h8">â‡‘ toc</a> | <a href="#my-h7">â†‘ parent "My h7"</a></span></h6>
<h6 data-level="9" id="my-h9"><a href="#my-h9" title="link to this element">6.1.1.1.1.1.1.1. My h9</a><span>  | <a href="#toc-my-h9">â‡‘ toc</a> | <a href="#my-h8">â†‘ parent "My h8"</a></span></h6>
<h6 data-level="10" id="my-h10"><a href="#my-h10" title="link to this element">6.1.1.1.1.1.1.1.1. My h10</a><span>  | <a href="#toc-my-h10">â‡‘ toc</a> | <a href="#my-h9">â†‘ parent "My h9"</a></span></h6>
<h6 data-level="11" id="my-h11"><a href="#my-h11" title="link to this element">6.1.1.1.1.1.1.1.1.1. My h11</a><span>  | <a href="#toc-my-h11">â‡‘ toc</a> | <a href="#my-h10">â†‘ parent "My h10"</a></span></h6>
<h6 data-level="12" id="my-h12"><a href="#my-h12" title="link to this element">6.1.1.1.1.1.1.1.1.1.1. My h12</a><span>  | <a href="#toc-my-h12">â‡‘ toc</a> | <a href="#my-h11">â†‘ parent "My h11"</a></span></h6>
<h6 data-level="13" id="my-h13"><a href="#my-h13" title="link to this element">6.1.1.1.1.1.1.1.1.1.1.1. My h13</a><span>  | <a href="#toc-my-h13">â‡‘ toc</a> | <a href="#my-h12">â†‘ parent "My h12"</a></span></h6>
<h3 id="table-of-contents"><a href="#table-of-contents" title="link to this element">6.2. Table of contents <code id="c-23">\toc</code></a><span>  | <a href="#toc-table-of-contents">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-61">Only one ToC shows per document. Any ToC besides the first one is ignored.<span class="hide-hover"> <a href="#p-61">(ðŸ”— link)</a></span>
</p>
<p id="p-62">The ToC ignores <code id="c-24">\h[1]</code> by default, as we encourage that header level to appear only once and represent the main title under which the entire document goes.<span class="hide-hover"> <a href="#p-62">(ðŸ”— link)</a></span>
</p>
<h4 id="id-scope"><a href="#id-scope" title="link to this element">6.2.1. id_scope</a><span>  | <a href="#toc-id-scope">â‡‘ toc</a> | <a href="#table-of-contents">â†‘ parent "Table of contents <code id="c-23">\toc</code>"</a></span></h4>
<p id="p-63">TODO implement.<span class="hide-hover"> <a href="#p-63">(ðŸ”— link)</a></span>
</p>
<p id="p-64">If this header attribute is <code id="c-25">true</code>, then the ID of all children are prefixed with the ID of this header + a slash <code id="c-26">/</code>.<span class="hide-hover"> <a href="#p-64">(ðŸ”— link)</a></span>
</p>
<p id="p-65">This property is true by default for cross file references, although it can be turned off explicitly with <code id="c-27">id-scope=false</code>.<span class="hide-hover"> <a href="#p-65">(ðŸ”— link)</a></span>
</p>
<p id="p-66">References withing a single scope do not need the parent scope prefix.<span class="hide-hover"> <a href="#p-66">(ðŸ”— link)</a></span>
</p>
<h3 id="header-explicit-levels-vs-nesting-design-choice"><a href="#header-explicit-levels-vs-nesting-design-choice" title="link to this element">6.3. Header explicit levels vs nesting design choice</a><span>  | <a href="#toc-header-explicit-levels-vs-nesting-design-choice">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-67">Arguably, the language would be even saner if we did:<span class="hide-hover"> <a href="#p-67">(ðŸ”— link)</a></span>
</p>
<pre id="c-17"><code>\h[My h1][

Paragraph.

\h[My h2][]
]
</code></pre>
<p id="p-68">rather than having explicit levels.<span class="hide-hover"> <a href="#p-68">(ðŸ”— link)</a></span>
</p>
<p id="p-69">But we chose not to do it like most markups available because it leads to too many nestiing levels, and hard to determine where you are without tooling.<span class="hide-hover"> <a href="#p-69">(ðŸ”— link)</a></span>
</p>
<h3 id="includes"><a href="#includes" title="link to this element">6.4. Includes <code id="c-28">\include</code></a><span>  | <a href="#toc-includes">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-70">The <code id="c-29">\include</code> macro achieves the following goals:<span class="hide-hover"> <a href="#p-70">(ðŸ”— link)</a></span>
</p>
<ul id="ul-9">
<li id="l-19"><p id="p-238">  show a single header at multiple locations in the table of contents. This makes the TOC into a full blown graph rather than a tree.<span class="hide-hover"> <a href="#p-238">(ðŸ”— link)</a></span>
</p>
<p id="p-239">  This can be used to implement a tag entirely within the ToC!
<span class="hide-hover"> <a href="#p-239">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-20"><p id="p-240">  determine where external files will be placed in <code id="c-153">--single-page</code> mode.<span class="hide-hover"> <a href="#p-240">(ðŸ”— link)</a></span>
</p>
<p id="p-241">  When compiling to HTML, we can choose to either:<span class="hide-hover"> <a href="#p-241">(ðŸ”— link)</a></span>
</p>
<p id="p-242">  <ul id="ul-40">
<li id="l-102">compile as multiple pages: default, includes show on ToC and render as <a href="#internal-cross-references" id="x-56">internal cross references to headers</a></li>
</ul>
  <ul id="ul-41">
<li id="l-103">compile as a single page: selected with the <code id="c-183">cirodown --single-page</code> option</li>
</ul>
<span class="hide-hover"> <a href="#p-242">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<p id="p-71">If an external header would be included multiple times in a single output page, the ToC contents are duplicated, but the content itself cannot be because that would lead to ID conflicts and large pages.<span class="hide-hover"> <a href="#p-71">(ðŸ”— link)</a></span>
</p>
<p id="p-72">Therefore, in this case you are forced to specify which include will actually expand to the <code id="c-30">canonical</code> attribute:<span class="hide-hover"> <a href="#p-72">(ðŸ”— link)</a></span>
</p>
<pre id="c-18"><code>\include[not-the-readme]{canonical=true}
</code></pre>
<h3 id="skipping-header-levels"><a href="#skipping-header-levels" title="link to this element">6.5. Skipping header levels</a><span>  | <a href="#toc-skipping-header-levels">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-73">The very first header of a document can be of any level, although we highly recommend your document to start with a <code id="c-31">\h[1]</code>, and to contain exactly just one <code id="c-32">\h[1]</code>, as this has implications such as:<span class="hide-hover"> <a href="#p-73">(ðŸ”— link)</a></span>
</p>
<ul id="ul-10">
<li id="l-21"><code id="c-125">\h[1]</code> is used for the document title: <a href="#html-document-title" id="x-44">HTML document title</a></li>
<li id="l-22"><code id="c-126">\h[1]</code> does not show on the <a href="#table-of-contents" id="x-45">Table of contents <code id="c-23">\toc</code></a></li>
</ul>
<p id="p-74">Aftter the initial header however, you must not skip a header level, e.g. the following would give an error because it skips level 3:<span class="hide-hover"> <a href="#p-74">(ðŸ”— link)</a></span>
</p>
<pre id="c-19"><code>\h[1][my 1]

\h[2][my 1]

\h[4][my 4]
</code></pre>
<h3 id="the-toplevel-header"><a href="#the-toplevel-header" title="link to this element">6.6. The toplevel header</a><span>  | <a href="#toc-the-toplevel-header">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code id="c-19">\h</code>"</a></span></h3>
<p id="p-75">If the document has only a single header of the highest level, e.g. like the following has only a single <code id="c-33">h2</code>:<span class="hide-hover"> <a href="#p-75">(ðŸ”— link)</a></span>
</p>
<pre id="c-20"><code>\h[2][My 2]

\h[3][My 3 1]

\h[3][My 3 2]
</code></pre>
<p id="p-76">then this has some magical effects, notably that header IDs won't show that level. For example, the headers would render like:<span class="hide-hover"> <a href="#p-76">(ðŸ”— link)</a></span>
</p>
<pre id="c-21"><code>My 2

1. My 3 1

2. My 3 2
</code></pre>
<p id="p-77">rather than:<span class="hide-hover"> <a href="#p-77">(ðŸ”— link)</a></span>
</p>
<pre id="c-22"><code>1. My 2

1.2. My 3 1

1.2. My 3 2
</code></pre>
<p id="p-78">This is because in this case, we guess that the <code id="c-34">h2</code> is the toplevel<span class="hide-hover"> <a href="#p-78">(ðŸ”— link)</a></span>
</p>
<h2 id="lists"><a href="#lists" title="link to this element">7. Lists <code id="c-35">\l</code></a><span>  | <a href="#toc-lists">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-79">With implicit container:<span class="hide-hover"> <a href="#p-79">(ðŸ”— link)</a></span>
</p>
<ul id="ul-11">
<li id="l-23">a</li>
<li id="l-24">b</li>
<li id="l-25">c</li>
</ul>
<p id="p-80">Equivalent with explicit container:<span class="hide-hover"> <a href="#p-80">(ðŸ”— link)</a></span>
</p>
<ul id="ul-12">
<li id="l-26">a</li>
<li id="l-27">b</li>
<li id="l-28">c</li>
</ul>
<p id="p-81">The explicit container is required if you want to add properties to the list, e.g. a title and an ID: <a href="#list-my-id" id="x-12">Ul 13</a>:<span class="hide-hover"> <a href="#p-81">(ðŸ”— link)</a></span>
</p>
<ul id="list-my-id">
<li id="l-29">a</li>
<li id="l-30">b</li>
<li id="l-31">c</li>
</ul>
<p id="p-82">It is also required if you want ordered lists:<span class="hide-hover"> <a href="#p-82">(ðŸ”— link)</a></span>
</p>
<ol id="ol-1">
<li id="l-32">first</li>
<li id="l-33">second</li>
<li id="l-34">third</li>
</ol>
<p id="p-83">Nested lists with implicit containers:<span class="hide-hover"> <a href="#p-83">(ðŸ”— link)</a></span>
</p>
<ul id="ul-14">
<li id="l-35"><p id="p-243">  a<span class="hide-hover"> <a href="#p-243">(ðŸ”— link)</a></span>
</p>
<p id="p-244">  <ul id="ul-42">
<li id="l-104">a1</li>
</ul>
  <ul id="ul-43">
<li id="l-105">a2</li>
</ul>
  <ul id="ul-44">
<li id="l-106">a2</li>
</ul>
<span class="hide-hover"> <a href="#p-244">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-36">b</li>
<li id="l-37">c</li>
</ul>
<p id="p-84">List item with a paragraph inside of it:<span class="hide-hover"> <a href="#p-84">(ðŸ”— link)</a></span>
</p>
<ul id="ul-15">
<li id="l-38">a</li>
<li id="l-39"><p id="p-245">  I have<span class="hide-hover"> <a href="#p-245">(ðŸ”— link)</a></span>
</p>
<p id="p-246">  Multiple paragraphs.<span class="hide-hover"> <a href="#p-246">(ðŸ”— link)</a></span>
</p>
<p id="p-247">  <ul id="ul-45">
<li id="l-107">And</li>
</ul>
  <ul id="ul-46">
<li id="l-108">also</li>
</ul>
  <ul id="ul-47">
<li id="l-109">a</li>
</ul>
  <ul id="ul-48">
<li id="l-110">list</li>
</ul>
<span class="hide-hover"> <a href="#p-247">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-40">c</li>
</ul>
<h2 id="images"><a href="#images" title="link to this element">8. Images <code id="c-36">\image</code></a><span>  | <a href="#toc-images">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-85">A block image with <a href="#macro-capitalization-for-block-vs-inline" id="x-13">capital</a> 'i' <code id="c-37">Image</code> can be seen at <a href="#fig-my-xi-chrysanthemum" id="x-14">Figure 1. "Xi Chrysanthemum is a very nice image"</a>:<span class="hide-hover"> <a href="#p-85">(ðŸ”— link)</a></span>
</p>
<figure id="fig-my-xi-chrysanthemum">
<a href="#fig-my-xi-chrysanthemum"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_liusi_added_by_Ciro_Santilli.jpeg"></a>
<figcaption><span class="caption-prefix">Figure 1</span>. Xi Chrysanthemum is a very nice image</figcaption>
</figure>
<p id="p-86">Here is one without a description but with an ID so we can link to it: <a href="#fig-my-xi-chrysanthemum-2" id="x-15">Figure 2</a>.<span class="hide-hover"> <a href="#p-86">(ðŸ”— link)</a></span>
</p>
<figure id="fig-my-xi-chrysanthemum-2">
<a href="#fig-my-xi-chrysanthemum-2"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_liusi_added_by_Ciro_Santilli.jpeg"></a>
<figcaption><span class="caption-prefix">Figure 2</span></figcaption>
</figure>
<p id="p-87">We must use <a href="#cross-reference-style" id="x-16"><code id="c-127">style=full</code></a> here because otherwise the link text would be empty and not show at all.<span class="hide-hover"> <a href="#p-87">(ðŸ”— link)</a></span>
</p>
<p id="p-88">If the image has neither ID nor title, then it just gets a generic caption, and it is not possible to link to it with an <a href="#internal-cross-references" id="x-17">internal cross reference</a>, e.g.:<span class="hide-hover"> <a href="#p-88">(ðŸ”— link)</a></span>
</p>
<figure id="fig-3">
<a href="#fig-3"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_liusi_added_by_Ciro_Santilli.jpeg"></a>
<figcaption><span class="caption-prefix">Figure 3</span></figcaption>
</figure>
<p id="p-89">The image does however get an automatically generated ID based on its image number so that readers can link to it on the rendered version, e.g. as:<span class="hide-hover"> <a href="#p-89">(ðŸ”— link)</a></span>
</p>
<pre id="c-23"><code>#fig-123
</code></pre>
<p id="p-90">This link is of course not stable across document revisions, since if an image is added before that one, the link will break.<span class="hide-hover"> <a href="#p-90">(ðŸ”— link)</a></span>
</p>
<p id="p-91">This kind of image is discouraged, because in paged output formats like PDF, it could float away from the text that refers to the image.<span class="hide-hover"> <a href="#p-91">(ðŸ”— link)</a></span>
</p>
<p id="p-92">And here is an <img id="image-1" src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_liusi_added_by_Ciro_Santilli.jpeg" alt="Xi Chrysanthemum"> inline one with lower case 'i'. Inline images can't have captions.<span class="hide-hover"> <a href="#p-92">(ðŸ”— link)</a></span>
</p>
<h3 id="where-to-store-images"><a href="#where-to-store-images" title="link to this element">8.1. Where to store images</a><span>  | <a href="#toc-where-to-store-images">â‡‘ toc</a> | <a href="#images">â†‘ parent "Images <code id="c-36">\image</code>"</a></span></h3>
<p id="p-93">If you are making a limited repository that will not have a ton of images, then you can get away with simply git tracking your images in the main repository.<span class="hide-hover"> <a href="#p-93">(ðŸ”— link)</a></span>
</p>
<p id="p-94">With this setup, no further action is needed. For example, with a file structure of:<span class="hide-hover"> <a href="#p-94">(ðŸ”— link)</a></span>
</p>
<pre id="c-24"><code>./README.ciro
./Image_with_a_descriptive_title.jpeg
</code></pre>
<p id="p-95">just use the image from <pre id="c-64"><code>README.ciro</code></pre>
 as:<span class="hide-hover"> <a href="#p-95">(ðŸ”— link)</a></span>
</p>
<pre id="c-25"><code>Here is a nice image:

\Image[Image_with_a_descriptive_title.jpeg]
</code></pre>
<p id="p-96">However, if you are making a huge tutorial, which can have a huge undefined number of images (i.e. any scientific book), then you likely don't want to git track your images in the git repository.<span class="hide-hover"> <a href="#p-96">(ðŸ”— link)</a></span>
</p>
<p id="p-97">We recommend the following approach instead.<span class="hide-hover"> <a href="#p-97">(ðŸ”— link)</a></span>
</p>
<p id="p-98">Create a separate GitHub repository in addition to the main one containing the text, for example:<span class="hide-hover"> <a href="#p-98">(ðŸ”— link)</a></span>
</p>
<ul id="ul-16">
<li id="l-41"><code id="c-128">./my-tutorial/</code></li>
<li id="l-42"><code id="c-129">./my-tutorial-media/</code></li>
</ul>
<p id="p-99">The name <code id="c-38">*-media</code> suffix is not mandatory, but if you use this default, <code id="c-39">cirodown</code> will handle it for you without any further configuration.<span class="hide-hover"> <a href="#p-99">(ðŸ”— link)</a></span>
</p>
<p id="p-100">And then set the <a href="#media-source-type" id="x-18"><code id="c-112">media_source_type</code></a> option in your <a href="#cirodown-json" id="x-19"><code id="c-111">cirodown.json</code></a>:<span class="hide-hover"> <a href="#p-100">(ðŸ”— link)</a></span>
</p>
<pre id="c-26"><code>{
  media_source_type = "media_repo"
}
</code></pre>
<p id="p-101">Now, simply drop your images into the <code id="c-40">my-tutorial-media</code> repository and use them just as before, and everything will just work!<span class="hide-hover"> <a href="#p-101">(ðŸ”— link)</a></span>
</p>
<pre id="c-27"><code>\Image[Image_with_a_descriptive_title.jpeg]
</code></pre>
<p id="p-102"><code id="c-41">cirodown</code> will even automatically add and push used images in the <code id="c-42">my-tutorial-media</code> repository for you during publishing!<span class="hide-hover"> <a href="#p-102">(ðŸ”— link)</a></span>
</p>
<p id="p-103">You should then use the following rules inside <code id="c-43">my-tutorial-media</code>:<span class="hide-hover"> <a href="#p-103">(ðŸ”— link)</a></span>
</p>
<ul id="ul-17">
<li id="l-43">give every file a very descriptive and unique name as a full English sentence</li>
<li id="l-44">never ever delete any files, nor change their content, unless it is an improvement in format that does change the information contained of the image TODO link to nice Wikimedia Commons guideline page</li>
</ul>
<p id="p-104">This way, even though the repositories are not fully in sync, anyone who clones the latest version of the <code id="c-44">*-media</code> directory will be able to view any version of the main repository.<span class="hide-hover"> <a href="#p-104">(ðŸ”— link)</a></span>
</p>
<p id="p-105">Then, if one day the media repository ever blows up GitHub's limit, you can just migrate the images to another image server that allows arbitrary basenames, e.g. AWS, and just configure your project to use that new media base URL with the <a href="#media-base-url" id="x-20"><code id="c-113">media_base_url</code></a> option.<span class="hide-hover"> <a href="#p-105">(ðŸ”— link)</a></span>
</p>
<p id="p-106">The reason why images should be kept in a separate repository is that images are hundreds or thousands of times larger than hand written text.<span class="hide-hover"> <a href="#p-106">(ðŸ”— link)</a></span>
</p>
<p id="p-107">Therefore, images could easily fill up the maximum repository size you are allowed: https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746 and then what will you do when GitHub comes asking you to reduce the repository size?<span class="hide-hover"> <a href="#p-107">(ðŸ”— link)</a></span>
</p>
<p id="p-108"><a id="a-10" href="https://git-lfs.github.com/">Git LFS</a> is one approach to deal with this, but we feel that it adds too much development overhead.<span class="hide-hover"> <a href="#p-108">(ðŸ”— link)</a></span>
</p>
<h3 id="image-generators"><a href="#image-generators" title="link to this element">8.2. Image generators</a><span>  | <a href="#toc-image-generators">â‡‘ toc</a> | <a href="#images">â†‘ parent "Images <code id="c-36">\image</code>"</a></span></h3>
<p id="p-109">TODO implement: mechanism where you enter a textual description of the image inside the code body, and it then converts to an image, adds to the <code id="c-45">-media</code> repo and pushes all automatically. Start with dot.<span class="hide-hover"> <a href="#p-109">(ðŸ”— link)</a></span>
</p>
<h2 id="code"><a href="#code" title="link to this element">9. Code <code id="c-46">\c</code> and <code id="c-47">\C</code></a><span>  | <a href="#toc-code">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-110">Inline code blocks (code blocks that should appear in the middle of a paragraph) are done with lower case <code id="c-48">c</code>:<span class="hide-hover"> <a href="#p-110">(ðŸ”— link)</a></span>
</p>
<pre id="c-28"><code>My \c[inline] code.
</code></pre>
<p id="p-111">renders to:<span class="hide-hover"> <a href="#p-111">(ðŸ”— link)</a></span>
</p>
<pre id="c-29"><code>&lt;p&gt;My &lt;code&gt;inline&lt;/code&gt; code.&lt;/p&gt;
</code></pre>
<p id="p-112">Code blocks (code blocks that should appear outside of paragraphs in their own lines) are done with capital <code id="c-49">C</code>:<span class="hide-hover"> <a href="#p-112">(ðŸ”— link)</a></span>
</p>
<pre id="c-30"><code>A paragraph.

\C[
A block
of code
]

Another paragraph.
</code></pre>
<p id="p-113">renders to:<span class="hide-hover"> <a href="#p-113">(ðŸ”— link)</a></span>
</p>
<pre id="c-31"><code>&lt;p&gt;A paragraph.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;A block
of code&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another paragraph.&lt;/p&gt;
</code></pre>
<p id="p-114">If the content of the code block has many characters that you would need to <a href="#escape-characters" id="x-21">escape</a>, you will often want to use <a href="#literal-arguments" id="x-22">Literal arguments</a>, which work just like the do for any other argument. For example:<span class="hide-hover"> <a href="#p-114">(ðŸ”— link)</a></span>
</p>
<pre id="c-32"><code>A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
</code></pre>
<p id="p-115">Note that the initial newline is skipped automatically in code blocks, just as for any other element, due to: <a href="#argument-leading-newline-removal" id="x-23">Argument leading newline removal</a>, so you don't have to worry about it.<span class="hide-hover"> <a href="#p-115">(ðŸ”— link)</a></span>
</p>
<p id="p-116">The capital vs lower case theme is also used in other elements, for example <a href="#math" id="x-24">Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a>.<span class="hide-hover"> <a href="#p-116">(ðŸ”— link)</a></span>
</p>
<p id="p-117">The distinction between inline <code id="c-50">c</code> and block <code id="c-51">C</code> code blocks is needed because in HTML, <a id="a-11" href="https://stackoverflow.com/questions/5371787/can-i-have-a-pre-tag-inside-a-p-tag-in-tumblr/58603596#58603596"><code id="c-130">pre</code> cannot go inside <code id="c-131">p</code></a>.<span class="hide-hover"> <a href="#p-117">(ðŸ”— link)</a></span>
</p>
<p id="p-118">We could have chosen to do some magic to differentiate between them, e.g. checking if the block is the only element in a paragraph, but we decided not to do that to keep the language saner.<span class="hide-hover"> <a href="#p-118">(ðŸ”— link)</a></span>
</p>
<h2 id="math"><a href="#math" title="link to this element">10. Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a><span>  | <a href="#toc-math">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-119">Via KaTeX server side, oh yes!<span class="hide-hover"> <a href="#p-119">(ðŸ”— link)</a></span>
</p>
<p id="p-120">My inline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span> is awesome.<span class="hide-hover"> <a href="#p-120">(ðŸ”— link)</a></span>
</p>
<p id="p-121">Escape the closing bracket with backslash: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ’</mo><mo stretchy="false">[</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 - [1 + 1] = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>.<span class="hide-hover"> <a href="#p-121">(ðŸ”— link)</a></span>
</p>
<p id="p-122">Escape the closing bracket with double open and close: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ’</mo><mo stretchy="false">[</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 - [1 + 1] = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span> is awesome.<span class="hide-hover"> <a href="#p-122">(ðŸ”— link)</a></span>
</p>
<p id="p-123">Display math is done with upper case <code id="c-54">M</code>:<span class="hide-hover"> <a href="#p-123">(ðŸ”— link)</a></span>
</p>
<div class="math-container" id="eq-1"><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt><mspace linebreak="newline"></mspace><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1} \\
\sqrt{1 + 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-1">(1)</a></div></div>
</div>
<p id="p-124">HTML escaping happens as you would expect, e.g. &lt; shows fine in:<span class="hide-hover"> <a href="#p-124">(ðŸ”— link)</a></span>
</p>
<div class="math-container" id="eq-2"><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 &lt; 2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></div>
<div><a href="#eq-2">(2)</a></div></div>
</div>
<p id="p-125">Equation IDs and titles and linking to equations works identically to <a href="#images" id="x-25">images</a>, see that section for full details. Here is one equation reference example: <a href="#eq-my-first-equation" id="x-26">Equation 3. "My first equation"</a>.<span class="hide-hover"> <a href="#p-125">(ðŸ”— link)</a></span>
</p>
<div class="math-container" id="eq-my-first-equation"><div class="math-caption-container">
<span class="math-caption"><span class="caption-prefix">Equation 3</span>. My first equation</span><span> <a href="#eq-my-first-equation">(ðŸ”— link)</a></span>
</div>
<div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 + 1 = 2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></div>
<div><a href="#eq-my-first-equation">(3)</a></div></div>
</div>
<h3 id="math-defines-across-blocks"><a href="#math-defines-across-blocks" title="link to this element">10.1. Math defines across blocks</a><span>  | <a href="#toc-math-defines-across-blocks">â‡‘ toc</a> | <a href="#math">â†‘ parent "Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code>"</a></span></h3>
<p id="p-126">TODO pending upstream tag bump: <a id="a-12" href="https://github.com/KaTeX/KaTeX/pull/2091">https://github.com/KaTeX/KaTeX/pull/2091</a> First here is an invisible block defining with a <code id="c-55">\newcommand</code> definition after this paragraph:<span class="hide-hover"> <a href="#p-126">(ðŸ”— link)</a></span>
</p>
<p id="p-127">We set the <code id="c-56">{show=0}</code> argument because this block only contains KaTeX definitions, and should not render to anything.<span class="hide-hover"> <a href="#p-127">(ðŸ”— link)</a></span>
</p>
<p id="p-128">Second block using:<span class="hide-hover"> <a href="#p-128">(ðŸ”— link)</a></span>
</p>
<pre id="c-33"><code>\M[[
\foo
]]
</code></pre>
<p id="p-129">First invisible block defining with <code id="c-57">\def</code> after this paragraph:<span class="hide-hover"> <a href="#p-129">(ðŸ”— link)</a></span>
</p>
<p id="p-130">Second block using it:<span class="hide-hover"> <a href="#p-130">(ðŸ”— link)</a></span>
</p>
<div class="math-container" id="eq-4"><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">\foogdef
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></div>
<div><a href="#eq-4">(4)</a></div></div>
</div>
<h2 id="tables"><a href="#tables" title="link to this element">11. Tables <code id="c-58">\table</code>, <code id="c-59">\tr</code>, <code id="c-60">\th</code> and <code id="c-61">\td</code></a><span>  | <a href="#toc-tables">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-131">Similar to lists. Implicit container with optional indentation to improve readability:<span class="hide-hover"> <a href="#p-131">(ðŸ”— link)</a></span>
</p>
<div class="table-container" id="table-2">
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 2</span></span><span> <a href="#table-2">(ðŸ”— link)</a></span>
</div>
<table>
<tr id="tr-5">
  <th id="th-4">Header 1</th>
  <th id="th-5">Header 2</th>
</tr>
<tr id="tr-6">
  <td id="td-10">1 1</td>
  <td id="td-11">1 2</td>
</tr>
<tr id="tr-7">
  <td id="td-12">2 1</td>
  <td id="td-13">2 2</td>
</tr>
</table>
</div>
<p id="p-132">Explicit container to add further properties: <a href="#table-my-table" id="x-27">Table 3. "My table title"</a>.<span class="hide-hover"> <a href="#p-132">(ðŸ”— link)</a></span>
</p>
<div class="table-container" id="table-my-table">
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 3</span>. My table title</span><span> <a href="#table-my-table">(ðŸ”— link)</a></span>
</div>
<table>
<tr id="tr-8">
  <th id="th-6">Header 1</th>
  <th id="th-7">Header 2</th>
</tr>
<tr id="tr-9">
  <td id="td-14">1 1</td>
  <td id="td-15">1 2</td>
</tr>
<tr id="tr-10">
  <td id="td-16">2 1</td>
  <td id="td-17">2 2</td>
</tr>
</table>
</div>
<h2 id="comments"><a href="#comments" title="link to this element">12. Comments</a><span>  | <a href="#toc-comments">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-133">The <code id="c-62">Comment</code> and <code id="c-63">comment</code> macros are regular macros that does not produce any output. Capitalization is explained at: <a href="#macro-capitalization-for-block-vs-inline" id="x-28">Macro capitalization for block vs inline</a>.<span class="hide-hover"> <a href="#p-133">(ðŸ”— link)</a></span>
</p>
<p id="p-134">You will therefore mostly want to use it with a <a href="#literal-arguments" id="x-29">literal argument</a>, which will, as for any other macro, ignore any macros inside of it.<span class="hide-hover"> <a href="#p-134">(ðŸ”— link)</a></span>
</p>
<p id="p-135">And here is:  an inline one.<span class="hide-hover"> <a href="#p-135">(ðŸ”— link)</a></span>
</p>
<p id="p-136"> inline at the start.<span class="hide-hover"> <a href="#p-136">(ðŸ”— link)</a></span>
</p>
<h2 id="cirodown-syntax"><a href="#cirodown-syntax" title="link to this element">13. Cirodown syntax</a><span>  | <a href="#toc-cirodown-syntax">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="macro-argument-syntax"><a href="#macro-argument-syntax" title="link to this element">13.1. Macro argument syntax</a><span>  | <a href="#toc-macro-argument-syntax">â‡‘ toc</a> | <a href="#cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></h3>
<h4 id="positional-vs-named-arguments"><a href="#positional-vs-named-arguments" title="link to this element">13.1.1. Positional vs named arguments</a><span>  | <a href="#toc-positional-vs-named-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-137">Every argument in Cirodown is either positional or named.<span class="hide-hover"> <a href="#p-137">(ðŸ”— link)</a></span>
</p>
<p id="p-138">For example, in a <a href="#headers" id="x-30">header</a> definition with an ID:<span class="hide-hover"> <a href="#p-138">(ðŸ”— link)</a></span>
</p>
<pre id="c-34"><code>\h[1][My asdf]{id=asdf qwer}{id_scope=myscope}
</code></pre>
<p id="p-139">we have:<span class="hide-hover"> <a href="#p-139">(ðŸ”— link)</a></span>
</p>
<ul id="ul-18">
<li id="l-45">two positional argument: <code id="c-132">1</code> and <code id="c-133">My asdf</code>. Those are surrounded by <code id="c-134"></code> and have no name</li>
<li id="l-46"><p id="p-248">  two named arguments: <code id="c-154">{id=asdf qwer}</code> and <code id="c-155">{id_scope=myscope}</code>.<span class="hide-hover"> <a href="#p-248">(ðŸ”— link)</a></span>
</p>
<p id="p-249">  The first one has name <code id="c-156">id</code> and the mandatory separator <code id="c-157">=</code>, followed by the value <code id="c-158">asdf qwer</code>.
<span class="hide-hover"> <a href="#p-249">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<p id="p-140">You can determine if a macro is positional or named by using <a href="#help-macros" id="x-31"><code id="c-109">--help-macros</code></a>. Its output contains something like:<span class="hide-hover"> <a href="#p-140">(ðŸ”— link)</a></span>
</p>
<pre id="c-35"><code>  "h": {
    "name": "h",
    "positional_args": [
      {
        "name": "level"
      },
      {
        "name": "content"
      }
    ],
    "named_args": {
      "id": {
        "name": "id"
      }
      "id_scope": {
        "name": "id_scope"
      }
    },
</code></pre>
<p id="p-141">and so we see that <code id="c-64">level</code> and <code id="c-65">content</code> are positional arguments, and <code id="c-66">id</code> and <code id="c-67">id_scope</code> are named arguments.<span class="hide-hover"> <a href="#p-141">(ðŸ”— link)</a></span>
</p>
<p id="p-142">Generally, positional arguments are few (otherwise it would be hard to know which is which is which), and are almost always used for a given element so tha they save us from typing the name too many times.<span class="hide-hover"> <a href="#p-142">(ðŸ”— link)</a></span>
</p>
<p id="p-143">The order of positional arguments must of course be fixed, but named arguments can go anywhere. We can even mix positional and named arguments however we want, although this is not advised for clarity.<span class="hide-hover"> <a href="#p-143">(ðŸ”— link)</a></span>
</p>
<p id="p-144">The following are therefore all equivalent:<span class="hide-hover"> <a href="#p-144">(ðŸ”— link)</a></span>
</p>
<pre id="c-36"><code>\h[1][My asdf]{id=asdf qwer}{id_scope=myscope}
\h[1][My asdf]{id_scope=myscope}{id=asdf qwer}
\h{id=asdf qwer}{id_scope=myscope}[1][My asdf]
\h{id_scope=myscope}[1]{id=asdf qwer}[My asdf]
</code></pre>
<p id="p-145">Just like named arguments, positional arguments are never mandatory.<span class="hide-hover"> <a href="#p-145">(ðŸ”— link)</a></span>
</p>
<p id="p-146">If not given, most positional arguments will default to an empty string.<span class="hide-hover"> <a href="#p-146">(ðŸ”— link)</a></span>
</p>
<p id="p-147">However, some positional arguments can have special effects if not given.<span class="hide-hover"> <a href="#p-147">(ðŸ”— link)</a></span>
</p>
<p id="p-148">For example, an anchor with the first positional argument present (the URL), but not the second positional argument (the link text) as in:<span class="hide-hover"> <a href="#p-148">(ðŸ”— link)</a></span>
</p>
<pre id="c-37"><code>\a[http://example.com]
</code></pre>
<p id="p-149">has the special effect of generating automatic links as in:<span class="hide-hover"> <a href="#p-149">(ðŸ”— link)</a></span>
</p>
<pre id="c-38"><code>\a[http://example.com][http://example.com]
</code></pre>
<p id="p-150">See also: <a href="#links" id="x-32">Links <code id="c-6">\a</code></a>.<span class="hide-hover"> <a href="#p-150">(ðŸ”— link)</a></span>
</p>
<h4 id="javascript-interface-for-arguments"><a href="#javascript-interface-for-arguments" title="link to this element">13.1.2. JavaScript interface for arguments</a><span>  | <a href="#toc-javascript-interface-for-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-151">The JavaScript interface sees arguments as follows:<span class="hide-hover"> <a href="#p-151">(ðŸ”— link)</a></span>
</p>
<pre id="c-39"><code>function macro_name(args)
</code></pre>
<p id="p-152">where args is a dict such that:<span class="hide-hover"> <a href="#p-152">(ðŸ”— link)</a></span>
</p>
<ul id="ul-19">
<li id="l-47">optional arguments have the key / value pairs explicitly given on the call</li>
<li id="l-48"><p id="p-250">  mandatory arguments have a key documented by the API, and the value on the call.<span class="hide-hover"> <a href="#p-250">(ðŸ”— link)</a></span>
</p>
<p id="p-251">  For example, the link API names its arguments <code id="c-159">href</code> and <code id="c-160">text</code>.
<span class="hide-hover"> <a href="#p-251">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<h4 id="newlines-between-arguments"><a href="#newlines-between-arguments" title="link to this element">13.1.3. Newlines between arguments</a><span>  | <a href="#toc-newlines-between-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-153">The macro name and the first argument, and two consecutive arguments, can be optionally separated by exactly one newline character, e.g.:<span class="hide-hover"> <a href="#p-153">(ðŸ”— link)</a></span>
</p>
<pre id="c-40"><code>\h[2]
{id-scope=true}
[Design goals]
</code></pre>
<p id="p-154">is equivalent to:<span class="hide-hover"> <a href="#p-154">(ðŸ”— link)</a></span>
</p>
<pre id="c-41"><code>\h[2]{id-scope=true}[Design goals]
</code></pre>
<p id="p-155">and this non-recommended mixed style:<span class="hide-hover"> <a href="#p-155">(ðŸ”— link)</a></span>
</p>
<pre id="c-42"><code>\h[2]{id-scope=true}
[Design goals]
</code></pre>
<p id="p-156">This allows to greatly improve the readability of long argument lists by having them one per line.<span class="hide-hover"> <a href="#p-156">(ðŸ”— link)</a></span>
</p>
<h4 id="escape-characters"><a href="#escape-characters" title="link to this element">13.1.4. Escape characters</a><span>  | <a href="#toc-escape-characters">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-157">For non-literal macro arguments, the rule is simple, you must escape all of:<span class="hide-hover"> <a href="#p-157">(ðŸ”— link)</a></span>
</p>
<ul id="ul-20">
<li id="l-49"><code id="c-135">\</code></li>
<li id="l-50"><code id="c-136">[</code> and <code id="c-137">]</code></li>
<li id="l-51"><code id="c-138">{</code> and <code id="c-139">}</code></li>
</ul>
<p id="p-158">This is good for short arguments of regular text, but for longer blocks of <a href="#code" id="x-33">Code <code id="c-46">\c</code> and <code id="c-47">\C</code></a> or <a href="#math" id="x-34">Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a>, you may want to use <a href="#literal-arguments" id="x-35">Literal arguments</a><span class="hide-hover"> <a href="#p-158">(ðŸ”— link)</a></span>
</p>
<h4 id="literal-arguments"><a href="#literal-arguments" title="link to this element">13.1.5. Literal arguments</a><span>  | <a href="#toc-literal-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-159">Arguments that are opened with more than one square brackets <code id="c-68">[</code> or curly braces <code id="c-69">{</code> are literal arguments.<span class="hide-hover"> <a href="#p-159">(ðŸ”— link)</a></span>
</p>
<p id="p-160">In literal arguments, Cirodown is not parsed, and the entire argument is considered as text until a corresponding close with the same number of characters.<span class="hide-hover"> <a href="#p-160">(ðŸ”— link)</a></span>
</p>
<p id="p-161">Therefore, you cannot have nested content, but it makes it extremely convenient to write <a href="#code" id="x-36">Code <code id="c-46">\c</code> and <code id="c-47">\C</code></a> or <a href="#math" id="x-37">Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a>.<span class="hide-hover"> <a href="#p-161">(ðŸ”— link)</a></span>
</p>
<p id="p-162">For example, a multiline code block with double open and double close square brackets inside can be enclosed in triple square brackets:<span class="hide-hover"> <a href="#p-162">(ðŸ”— link)</a></span>
</p>
<pre id="c-43"><code>A literal argument looks like this in Cirodown:

\C[[
\C[
A multiline

cod block.
]
]]

And another paragraph.
</code></pre>
<p id="p-163">The same works for inline code:<span class="hide-hover"> <a href="#p-163">(ðŸ”— link)</a></span>
</p>
<pre id="c-44"><code>The program \c[[puts("]");]] is very complex.
</code></pre>
<p id="p-164">Within literal blocks, only one thing can be escaped with backslashes: leading <code id="c-70">[</code> or trailing <code id="c-71">]</code>.<span class="hide-hover"> <a href="#p-164">(ðŸ”— link)</a></span>
</p>
<p id="p-165">The rule is that:<span class="hide-hover"> <a href="#p-165">(ðŸ”— link)</a></span>
</p>
<ul id="ul-21">
<li id="l-52">if the first character of a literal argument is a sequence of <code id="c-140">\</code>, and it is followed by another argument open character (e.g. <code id="c-141">[</code>), remove the first <code id="c-142">\</code> and treat the other characters as regular text</li>
<li id="l-53">if the last character of a literal argument is a <code id="c-143">\</code>, ignore it and treat the following closing character (e.g. <code id="c-144">]</code>) as regular text</li>
</ul>
<p id="p-166">See the following open input / output:<span class="hide-hover"> <a href="#p-166">(ðŸ”— link)</a></span>
</p>
<pre id="c-45"><code>\c[[\ b]]
&lt;code&gt;\ b&lt;/code&gt;

\c[[\a b]]
&lt;code&gt;\a b&lt;/code&gt;

\c[[\[ b]]
&lt;code&gt;[ b&lt;/code&gt;

\c[[\\[ b]]
&lt;code&gt;\[ b&lt;/code&gt;

\c[[\\\[ b]]
&lt;code&gt;\\[ b&lt;/code&gt;
</code></pre>
<p id="p-167">and close examples:<span class="hide-hover"> <a href="#p-167">(ðŸ”— link)</a></span>
</p>
<pre id="c-46"><code>\c[[a \]]
&lt;code&gt;a \&lt;/code&gt;

\c[[a \]]]
&lt;code&gt;a ]&lt;/code&gt;

\c[[a \\]]]
&lt;code&gt;a \]&lt;/code&gt;
</code></pre>
<h4 id="argument-leading-newline-removal"><a href="#argument-leading-newline-removal" title="link to this element">13.1.6. Argument leading newline removal</a><span>  | <a href="#toc-argument-leading-newline-removal">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-168">If the very first character of an argument is a newline, then that character is ignored.<span class="hide-hover"> <a href="#p-168">(ðŸ”— link)</a></span>
</p>
<p id="p-169">For example:<span class="hide-hover"> <a href="#p-169">(ðŸ”— link)</a></span>
</p>
<pre id="c-47"><code>\C[[
a

b
]]
</code></pre>
<p id="p-170">generates something like:<span class="hide-hover"> <a href="#p-170">(ðŸ”— link)</a></span>
</p>
<pre id="c-48"><code><p id="p-224">&lt;pre&gt;&lt;code&gt;a<span class="hide-hover"> <a href="#p-224">(ðŸ”— link)</a></span>
</p>
<p id="p-225">b
&lt;/code&gt;&lt;/pre&gt;
<span class="hide-hover"> <a href="#p-225">(ðŸ”— link)</a></span>
</p>
</code></pre>
<p id="p-171">instead of:<span class="hide-hover"> <a href="#p-171">(ðŸ”— link)</a></span>
</p>
<pre id="c-49"><code><p id="p-226">&lt;pre&gt;&lt;code&gt;
a<span class="hide-hover"> <a href="#p-226">(ðŸ”— link)</a></span>
</p>
<p id="p-227">b
&lt;/code&gt;&lt;/pre&gt;
<span class="hide-hover"> <a href="#p-227">(ðŸ”— link)</a></span>
</p>
</code></pre>
<p id="p-172">This is extremely convenient to improve the readability of code blocks and similar constructs.<span class="hide-hover"> <a href="#p-172">(ðŸ”— link)</a></span>
</p>
<p id="p-173">If you absolutely need an opening newline, just add a second leading or trailing newline to the macro argument, e.g.:<span class="hide-hover"> <a href="#p-173">(ðŸ”— link)</a></span>
</p>
<pre id="c-50"><code>\C[[

a

b

]]
</code></pre>
<h4 id="argument-automatic-indentation-removal"><a href="#argument-automatic-indentation-removal" title="link to this element">13.1.7. Argument automatic indentation removal</a><span>  | <a href="#toc-argument-automatic-indentation-removal">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<p id="p-174">Inside of a non-literal block, the very first non-whitespace character determines the indentation level of the content.<span class="hide-hover"> <a href="#p-174">(ðŸ”— link)</a></span>
</p>
<p id="p-175">This allows seamlessly indenting complex nested content to make it more readable.<span class="hide-hover"> <a href="#p-175">(ðŸ”— link)</a></span>
</p>
<p id="p-176">For example, a list with complex content could be written without indentation as:<span class="hide-hover"> <a href="#p-176">(ðŸ”— link)</a></span>
</p>
<pre id="c-51"><code>\l[a]
\l[
b

\C[[
And now some code
]]

And a paragraph.
]
\l[c]
</code></pre>
<p id="p-177">but it would be more readable as the equivalent:<span class="hide-hover"> <a href="#p-177">(ðŸ”— link)</a></span>
</p>
<pre id="c-52"><code>\l[a]
\l[
  b

  \c[[
  And now some code
  ]]

  And a paragraph.
]
\l[c]
</code></pre>
<p id="p-178">If a something tries to reduce the current indentation level, then that leads to an error:<span class="hide-hover"> <a href="#p-178">(ðŸ”— link)</a></span>
</p>
<pre id="c-53"><code>\l[a]
\l[
  b

I'm bad because I have negative indentation.

  Back to good.
]
\l[c]
</code></pre>
<h3 id="macro-capitalization-for-block-vs-inline"><a href="#macro-capitalization-for-block-vs-inline" title="link to this element">13.2. Macro capitalization for block vs inline</a><span>  | <a href="#toc-macro-capitalization-for-block-vs-inline">â‡‘ toc</a> | <a href="#cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></h3>
<p id="p-179">This is just a naming convention without any magic attached to it. It is currently used for macros such as:<span class="hide-hover"> <a href="#p-179">(ðŸ”— link)</a></span>
</p>
<ul id="ul-22">
<li id="l-54"><a href="#math" id="x-46">Mathematics <code id="c-52">\M</code> and <code id="c-53">\m</code></a></li>
<li id="l-55"><a href="#code" id="x-47">Code <code id="c-46">\c</code> and <code id="c-47">\C</code></a></li>
<li id="l-56"><a href="#comments" id="x-48">Comments</a></li>
</ul>
<p id="p-180">We haven't found a sane way of getting rid of that for now, so just for now just force users to explicitly select between them.<span class="hide-hover"> <a href="#p-180">(ðŸ”— link)</a></span>
</p>
<p id="p-181">The distinction is required because there are lots of things you cannot put inside paragraphs in HTML.<span class="hide-hover"> <a href="#p-181">(ðŸ”— link)</a></span>
</p>
<h2 id="tooling"><a href="#tooling" title="link to this element">14. Tooling</a><span>  | <a href="#toc-tooling">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<p id="p-182">Unlike all languages which rely on ad-hoc tooling, we will support every single tool that is required and feasible to be in this repository in this repository, in a centralized manner.<span class="hide-hover"> <a href="#p-182">(ðŸ”— link)</a></span>
</p>
<h3 id="cirodown-executable"><a href="#cirodown-executable" title="link to this element">14.1. <code id="c-72">cirodown</code> executable</a><span>  | <a href="#toc-cirodown-executable">â‡‘ toc</a> | <a href="#tooling">â†‘ parent "Tooling"</a></span></h3>
<p id="p-183">Convert a <code id="c-73">.ciro</code> file to HTML and output the HTML to stdout:<span class="hide-hover"> <a href="#p-183">(ðŸ”— link)</a></span>
</p>
<pre id="c-54"><code>cirodown README.ciro
</code></pre>
<p id="p-184">Convert all <code id="c-74">.ciro</code> files in a directory to HTML files next to each corresponding <code id="c-75">.ciro</code> file, e.g. <code id="c-76">somefile.ciro</code> to <code id="c-77">somefile.html</code>:<span class="hide-hover"> <a href="#p-184">(ðŸ”— link)</a></span>
</p>
<pre id="c-55"><code>cirodown .
</code></pre>
<p id="p-185"><code id="c-78">README.ciro</code> is treated magically and gets converted to <code id="c-79">index.html</code> instead of <code id="c-80">README.html</code>, so that it will appear on both the root of the HTML output and on the GitHub home page once GitHub adds Cirodown support.<span class="hide-hover"> <a href="#p-185">(ðŸ”— link)</a></span>
</p>
<p id="p-186">Convert a <code id="c-81">.ciro</code> file from stdin to HTML and output the contents of <code id="c-82">&lt;body&gt;</code> to stdout:<span class="hide-hover"> <a href="#p-186">(ðŸ”— link)</a></span>
</p>
<pre id="c-56"><code>printf 'ab\ncd\n' | cirodown --body-only
</code></pre>
<h4 id="cirodown-executable-most-important-options"><a href="#cirodown-executable-most-important-options" title="link to this element">14.1.1. <code id="c-83">cirodown</code> executable most important options</a><span>  | <a href="#toc-cirodown-executable-most-important-options">â‡‘ toc</a> | <a href="#cirodown-executable">â†‘ parent "<code id="c-72">cirodown</code> executable"</a></span></h4>
<h5 id="watch"><a href="#watch" title="link to this element">14.1.1.1. <code id="c-84">--watch</code></a><span>  | <a href="#toc-watch">â‡‘ toc</a> | <a href="#cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></h5>
<p id="p-187">Don't quit <code id="c-85">cirodown</code> immediately.<span class="hide-hover"> <a href="#p-187">(ðŸ”— link)</a></span>
</p>
<p id="p-188">Instead, watch the selected file or directory for changes, and rebuild individual files when changes are detected.<span class="hide-hover"> <a href="#p-188">(ðŸ”— link)</a></span>
</p>
<p id="p-189">Watch a single file:<span class="hide-hover"> <a href="#p-189">(ðŸ”— link)</a></span>
</p>
<pre id="c-57"><code>cirodown --watch README.ciro
</code></pre>
<p id="p-190">Now you can just edit <code id="c-86">README.ciro</code>, save the file in your editor, and refresh the webpage and your change should be visible, no need to run a <code id="c-87">cirodown</code> command excplicitly every time.<span class="hide-hover"> <a href="#p-190">(ðŸ”— link)</a></span>
</p>
<p id="p-191">TODO: integrate Live Preview: https://asciidoctor.org/docs/editing-asciidoc-with-live-preview/ to also dispense the browser refresh.<span class="hide-hover"> <a href="#p-191">(ðŸ”— link)</a></span>
</p>
<p id="p-192">Watch every <code id="c-88">.ciro</code> file in an entire directory:<span class="hide-hover"> <a href="#p-192">(ðŸ”— link)</a></span>
</p>
<pre id="c-58"><code>cirodown --watch .
</code></pre>
<p id="p-193">Save the output to <code id="c-89">.html</code> files automatically instead of outputting it to stdout as done without <code id="c-90">--watch</code>.<span class="hide-hover"> <a href="#p-193">(ðŸ”— link)</a></span>
</p>
<p id="p-194">Exit by entering Ctrl + C on the terminal.<span class="hide-hover"> <a href="#p-194">(ðŸ”— link)</a></span>
</p>
<h5 id="publish"><a href="#publish" title="link to this element">14.1.1.2. <code id="c-91">--publish</code></a><span>  | <a href="#toc-publish">â‡‘ toc</a> | <a href="#cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></h5>
<p id="p-195">Cirodown tooling is so amazing that we also take care of the HTML publishing for you.<span class="hide-hover"> <a href="#p-195">(ðŸ”— link)</a></span>
</p>
<h6 id="code-publish-to-github-pages-code"><a href="#code-publish-to-github-pages-code" title="link to this element">14.1.1.2.1. <code id="c-92">Publish to GitHub Pages</code></a><span>  | <a href="#toc-code-publish-to-github-pages-code">â‡‘ toc</a> | <a href="#publish">â†‘ parent "<code id="c-91">--publish</code>"</a></span></h6>
<p id="p-196">If you want to publish your root user page, which appears at `/` (e.g. <a id="a-13" href="https://github.com/cirosantilli/cirosantilli.github.io">https://github.com/cirosantilli/cirosantilli.github.io</a> for the user <code id="c-93">cirosantilli</code>), GitHub annoyingly forces you to use the <code id="c-94">master</code> branch for the HTML output:<span class="hide-hover"> <a href="#p-196">(ðŸ”— link)</a></span>
</p>
<ul id="ul-23">
<li id="l-57">https://github.com/isaacs/github/issues/212</li>
<li id="l-58">https://stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages</li>
</ul>
<p id="p-197">Therefore, you must first place your <code id="c-95">.ciro</code> source in a different branch and clear up the <code id="c-96">master</code> branch for the HTML, and only then publish:<span class="hide-hover"> <a href="#p-197">(ðŸ”— link)</a></span>
</p>
<pre id="c-59"><code>git checkout -b dev
git branch -D master
git push --delete origin master

git add README.ciro
git commit --message 'some commit message'
cirodown --publish
</code></pre>
<p id="p-198">This will automatically <code id="c-97">git push</code> both the <code id="c-98">dev</code> branch for you, and create/update the <code id="c-99">master</code> branch, which contains the desired HTML output.<span class="hide-hover"> <a href="#p-198">(ðŸ”— link)</a></span>
</p>
<p id="p-199">Only changes committed to Git are pushed.<span class="hide-hover"> <a href="#p-199">(ðŸ”— link)</a></span>
</p>
<p id="p-200">You then will also want to set your default repository branch to <code id="c-100">dev</code> in the settings for that repository: https://help.github.com/en/github/administering-a-repository/setting-the-default-branch<span class="hide-hover"> <a href="#p-200">(ðŸ”— link)</a></span>
</p>
<p id="p-201"><code id="c-101">cirodown</code> automatically detects that we are not on the <code id="c-102">master</code> branch, and therefore guesses that you want to publish GitHub pages on the <code id="c-103">master</code> branch.<span class="hide-hover"> <a href="#p-201">(ðŸ”— link)</a></span>
</p>
<p id="p-202">For any other non-root directory, <code id="c-104">cirodown</code> sees that you are on the <code id="c-105">master</code> branch, and automatically publishes on the <code id="c-106">gh-pages</code> branch, so all you need is:<span class="hide-hover"> <a href="#p-202">(ðŸ”— link)</a></span>
</p>
<pre id="c-60"><code>git add README.ciro
git commit --message 'some commit message'
cirodown --publish .
</code></pre>
<p id="p-203">The publishing only happens if the build has no errors.<span class="hide-hover"> <a href="#p-203">(ðŸ”— link)</a></span>
</p>
<p id="p-204">When <code id="c-107">--publish</code> is given, stdin input is not accepted, and so the current directory is built by default, i.e. the following two are equivalent:<span class="hide-hover"> <a href="#p-204">(ðŸ”— link)</a></span>
</p>
<pre id="c-61"><code>./cirodown --publish
./cirodown --publish .
</code></pre>
<h5 id="publish-commit"><a href="#publish-commit" title="link to this element">14.1.1.3. <code id="c-108">--publish-commit &lt;commit-message&gt;</code></a><span>  | <a href="#toc-publish-commit">â‡‘ toc</a> | <a href="#cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></h5>
<p id="p-205">Like <a href="#publish" id="x-38"><code id="c-91">--publish</code></a>, but also automatically:<span class="hide-hover"> <a href="#p-205">(ðŸ”— link)</a></span>
</p>
<ul id="ul-24">
<li id="l-59"><code id="c-145">git add -u</code> to automatically add change to any files that have been previously git tracked</li>
<li id="l-60"><code id="c-146">git commit -m &lt;commit-message&gt;</code> to create a new commit with those changes</li>
</ul>
<p id="p-206">This allows you to publish your changes live in a single command such as:<span class="hide-hover"> <a href="#p-206">(ðŸ”— link)</a></span>
</p>
<pre id="c-62"><code>cirodown --publish-commit 'my amazing change' .
</code></pre>
<p id="p-207">With great power comes great responsibility of course, but who cares!<span class="hide-hover"> <a href="#p-207">(ðŸ”— link)</a></span>
</p>
<h5 id="help-macros"><a href="#help-macros" title="link to this element">14.1.1.4. <code id="c-109">--help-macros</code></a><span>  | <a href="#toc-help-macros">â‡‘ toc</a> | <a href="#cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></h5>
<p id="p-208">You can get an overview of all macros in JSON format with:<span class="hide-hover"> <a href="#p-208">(ðŸ”— link)</a></span>
</p>
<pre id="c-63"><code>cirodown --help-macros
</code></pre>
<h5 id="html-embed"><a href="#html-embed" title="link to this element">14.1.1.5. <code id="c-110">--html-embed</code></a><span>  | <a href="#toc-html-embed">â‡‘ toc</a> | <a href="#cirodown-executable-most-important-options">â†‘ parent "<code id="c-83">cirodown</code> executable most important options"</a></span></h5>
<p id="p-209">Embed as many external resources as possible into a single HTML file.<span class="hide-hover"> <a href="#p-209">(ðŸ”— link)</a></span>
</p>
<p id="p-210">The use case for this option is to produce a single HTML file for an entire build that is fully self contained, and can therefore be given to consumers and viewed offline, much like a PDF.<span class="hide-hover"> <a href="#p-210">(ðŸ”— link)</a></span>
</p>
<p id="p-211">Examples of embeddings done:<span class="hide-hover"> <a href="#p-211">(ðŸ”— link)</a></span>
</p>
<ul id="ul-25">
<li id="l-61">CSS and JavaScript are copy pasted in place. The built-in CSS and JavaScript are currently all automatically downloaded as NPM package dependencies to cirodown</li>
<li id="l-62"><p id="p-252">  <a href="#images" id="x-49">images</a> are downloaded if needed and embedded as <code id="c-161">data:</code> URLs.<span class="hide-hover"> <a href="#p-252">(ðŸ”— link)</a></span>
</p>
<p id="p-253">  Images that are managed by the project itself and already locally present, such as those inside the project itself or due to <a href="#media-source-type" id="x-50"><code id="c-112">media_source_type</code></a> usually don't require download.<span class="hide-hover"> <a href="#p-253">(ðŸ”— link)</a></span>
</p>
<p id="p-254">  For images linked directly from the web, we maintain a local download cache, and skip downloads if the image is already in the cache.<span class="hide-hover"> <a href="#p-254">(ðŸ”— link)</a></span>
</p>
<p id="p-255">  To re-download due to image updates, use either:<span class="hide-hover"> <a href="#p-255">(ðŸ”— link)</a></span>
</p>
<p id="p-256">  <ul id="ul-49">
<li id="l-111"><code id="c-184">--asset-cache-update</code>: download all images such that the local disk timestamp is older than the HTTP modification date with <a id="a-30" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code id="c-186">If-Modified-Since</code></a></li>
</ul>
  <ul id="ul-50">
<li id="l-112"><code id="c-185">--asset-cache-update-force</code>: forcefully redownload all assets</li>
</ul>
<span class="hide-hover"> <a href="#p-256">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<p id="p-212">Keep in mind that certain things can never be embedded, e.g.:<span class="hide-hover"> <a href="#p-212">(ðŸ”— link)</a></span>
</p>
<ul id="ul-26">
<li id="l-63">YouTube videos, since YouTube does not offer any download API</li>
</ul>
<h4 id="cirodown-json"><a href="#cirodown-json" title="link to this element">14.1.2. <code id="c-111">cirodown.json</code></a><span>  | <a href="#toc-cirodown-json">â‡‘ toc</a> | <a href="#cirodown-executable">â†‘ parent "<code id="c-72">cirodown</code> executable"</a></span></h4>
<h5 id="media-source-type"><a href="#media-source-type" title="link to this element">14.1.2.1. <code id="c-112">media_source_type</code></a><span>  | <a href="#toc-media-source-type">â‡‘ toc</a> | <a href="#cirodown-json">â†‘ parent "<code id="c-111">cirodown.json</code>"</a></span></h5>
<ul id="ul-27">
<li id="l-64"><code id="c-147">local</code>: tracked in the current Git repository, no further magic is done</li>
<li id="l-65"><p id="p-257">  <code id="c-162">media_repo</code>: tracked in a separate media repository, defaults to <code id="c-163">../&lt;project-name&gt;-media/</code><span class="hide-hover"> <a href="#p-257">(ðŸ”— link)</a></span>
</p>
<p id="p-258">  When <a href="#publish" id="x-51">publishing</a>, Cirodown searches for files that were used in the build but not added to the media directory, and automatically does a <code id="c-164">git add</code>, <code id="c-165">commit</code> and <code id="c-166">push</code> for you!
<span class="hide-hover"> <a href="#p-258">(ðŸ”— link)</a></span>
</p>
</li>
</ul>
<h5 id="media-base-url"><a href="#media-base-url" title="link to this element">14.1.2.2. <code id="c-113">media_base_url</code></a><span>  | <a href="#toc-media-base-url">â‡‘ toc</a> | <a href="#cirodown-json">â†‘ parent "<code id="c-111">cirodown.json</code>"</a></span></h5>
<p id="p-213">TODO implement set the base URL where media will be served from.<span class="hide-hover"> <a href="#p-213">(ðŸ”— link)</a></span>
</p>
<p id="p-214">Default: for a GitHub repository called `my-tutorial`, append the `-media` suffix and use `my-tutorial-media`.<span class="hide-hover"> <a href="#p-214">(ðŸ”— link)</a></span>
</p>
<p id="p-215">Further rationale at: <a href="#where-to-store-images" id="x-39">Where to store images</a>.<span class="hide-hover"> <a href="#p-215">(ðŸ”— link)</a></span>
</p>
<h3 id="editor-with-preview"><a href="#editor-with-preview" title="link to this element">14.2. Editor with preview</a><span>  | <a href="#toc-editor-with-preview">â‡‘ toc</a> | <a href="#tooling">â†‘ parent "Tooling"</a></span></h3>
<p id="p-216">TODO<span class="hide-hover"> <a href="#p-216">(ðŸ”— link)</a></span>
</p>
<p id="p-217">We must achieve an editor setup with synchronized live side-by-side preview.<span class="hide-hover"> <a href="#p-217">(ðŸ”— link)</a></span>
</p>
<p id="p-218">Likely, we will first do a non WYSIWYG editor with side by side preview with scroll sync.<span class="hide-hover"> <a href="#p-218">(ðŸ”— link)</a></span>
</p>
<p id="p-219">Then, if the project picks up steam, we can start considering a full WYSISYG.<span class="hide-hover"> <a href="#p-219">(ðŸ”— link)</a></span>
</p>
<p id="p-220">It would be amazing to have a WebKit interface that works both on browser for the and locally.<span class="hide-hover"> <a href="#p-220">(ðŸ”— link)</a></span>
</p>
<p id="p-221">Possibilities we could reuse:<span class="hide-hover"> <a href="#p-221">(ðŸ”— link)</a></span>
</p>
<ul id="ul-28">
<li id="l-66"><p id="p-259">  Editor.js<span class="hide-hover"> <a href="#p-259">(ðŸ”— link)</a></span>
</p>
<p id="p-260">  Returns JSON AST!<span class="hide-hover"> <a href="#p-260">(ðŸ”— link)</a></span>
</p>
<p id="p-261">  <ul id="ul-51">
<li id="l-113">website: https://editorjs.io/ json output</li>
</ul>
  <ul id="ul-52">
<li id="l-114">source: https://github.com/codex-team/editor.js</li>
</ul>
  <ul id="ul-53">
<li id="l-115">WYSIWYG: no</li>
</ul>
  <ul id="ul-54">
<li id="l-116">preview scroll sync: yes</li>
<li id="l-117"><p id="p-281">  StackEdit<span class="hide-hover"> <a href="#p-281">(ðŸ”— link)</a></span>
</p>
<p id="p-282">  <ul id="ul-55">
<li id="l-122">website: <a id="a-31" href="https://stackedit.io">https://stackedit.io</a></li>
</ul>
  <ul id="ul-56">
<li id="l-123">source: https://github.com/benweet/stackedit</li>
</ul>
  <ul id="ul-57">
<li id="l-124">demo: https://stackedit.io/app</li>
</ul>
  <ul id="ul-58">
<li id="l-125">WYSIWYG: no</li>
</ul>
  <ul id="ul-59">
<li id="l-126">preview scroll sync: yes</li>
</ul>
<span class="hide-hover"> <a href="#p-282">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-118"><p id="p-283">  Editor.md<span class="hide-hover"> <a href="#p-283">(ðŸ”— link)</a></span>
</p>
<p id="p-284">  <ul id="ul-60">
<li id="l-127">website: <a id="a-32" href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li>
</ul>
  <ul id="ul-61">
<li id="l-128">source: <a id="a-33" href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li>
</ul>
  <ul id="ul-62">
<li id="l-129">demo: <a id="a-34" href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li>
</ul>
  <ul id="ul-63">
<li id="l-130">WYSIWYG: no</li>
</ul>
  <ul id="ul-64">
<li id="l-131">preview scroll sync: yes but buggy when tested 2019-12-12 on live website</li>
</ul>
<span class="hide-hover"> <a href="#p-284">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-119"><p id="p-285">  Quill.md<span class="hide-hover"> <a href="#p-285">(ðŸ”— link)</a></span>
</p>
<p id="p-286">  <ul id="ul-65">
<li id="l-132">website: <a id="a-35" href="https://quilljs.com">https://quilljs.com</a></li>
</ul>
  <ul id="ul-66">
<li id="l-133">source: <a id="a-36" href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li>
</ul>
  <ul id="ul-67">
<li id="l-134">demo: <a id="a-37" href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li>
</ul>
  <ul id="ul-68">
<li id="l-135">WYSIWYG: yes</li>
</ul>
  <ul id="ul-69">
<li id="l-136">markdown output: no https://github.com/quilljs/quill/issues/74</li>
</ul>
<span class="hide-hover"> <a href="#p-286">(ðŸ”— link)</a></span>
</p>
</li>
<li id="l-120">https://ui.toast.com/tui-editor/</li>
<li id="l-121">https://www.froala.com/wysiwyg-editor</li>
</ul>
<span class="hide-hover"> <a href="#p-261">(ðŸ”— link)</a></span>
</p>
<h2 id="developing-cirodown"><a href="#developing-cirodown" title="link to this element">15. Developing Cirodown</a><span>  | <a href="#toc-developing-cirodown">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="test-system"><a href="#test-system" title="link to this element">15.1. Test system</a><span>  | <a href="#toc-test-system">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<p id="p-262">Run all tests:<span class="hide-hover"> <a href="#p-262">(ðŸ”— link)</a></span>
</p>
<pre id="c-65"><code>npm test
</code></pre>
<p id="p-263">List all tests:<span class="hide-hover"> <a href="#p-263">(ðŸ”— link)</a></span>
</p>
<pre id="c-66"><code>node node_modules/mocha-list-tests/mocha-list-tests.js main.js
</code></pre>
<p id="p-264">As per: <a id="a-16" href="https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986">https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986</a>.<span class="hide-hover"> <a href="#p-264">(ðŸ”— link)</a></span>
</p>
<p id="p-265">Run just one test by name:<span class="hide-hover"> <a href="#p-265">(ðŸ”— link)</a></span>
</p>
<pre id="c-67"><code>npm test -- 'one paragraph'
</code></pre>
<p id="p-266">As per: https://stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha TODO: what if the test name is a substring?<span class="hide-hover"> <a href="#p-266">(ðŸ”— link)</a></span>
</p>
<p id="p-267">Step debug during a test run. Add the statement:<span class="hide-hover"> <a href="#p-267">(ðŸ”— link)</a></span>
</p>
<pre id="c-68"><code>debugger;
</code></pre>
<p id="p-268">to where you want to break in the code, and then:<span class="hide-hover"> <a href="#p-268">(ðŸ”— link)</a></span>
</p>
<pre id="c-69"><code>node inspect ./node_modules/.bin/mocha test --ignore-leaks "-g" "p with id before"
</code></pre>
<h3 id="overview-of-files-in-this-repository"><a href="#overview-of-files-in-this-repository" title="link to this element">15.2. Overview of files in this repository</a><span>  | <a href="#toc-overview-of-files-in-this-repository">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<ul id="ul-34">
<li id="l-72"><a id="a-19" href="index.js">index.js</a>: main code. Must be able to run in the browser, so no Node.js specifics. Exposes the central <code id="c-175">convert</code> function</li>
<li id="l-73"><a id="a-20" href="cirodown">cirodown</a>: CLI executable. Is basically just a CLI interface frontend to <code id="c-176">convert</code></li>
<li id="l-74"><a id="a-21" href="test.js">test.js</a>: contains all the Mocha tests, see also: <a href="#test-system" id="x-54">Test system</a></li>
<li id="l-75"><a id="a-22" href="README.md">README.md</a>: minimal Markdown README until GitHub / NPM support Cirodown :-)</li>
</ul>
<h3 id="internals-api"><a href="#internals-api" title="link to this element">15.3. Internals API</a><span>  | <a href="#toc-internals-api">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<p id="p-269">Tokenized token stream and AST can be obtained as JSON from the API.<span class="hide-hover"> <a href="#p-269">(ðŸ”— link)</a></span>
</p>
<p id="p-270">Errors can be obtained as JSON from the API.<span class="hide-hover"> <a href="#p-270">(ðŸ”— link)</a></span>
</p>
<p id="p-271">Everything that you need to write Cirodown tooling, is present in the main API.<span class="hide-hover"> <a href="#p-271">(ðŸ”— link)</a></span>
</p>
<p id="p-272">All tooling will be merged into one single repo.<span class="hide-hover"> <a href="#p-272">(ðŸ”— link)</a></span>
</p>
<h3 id="toplevel"><a href="#toplevel" title="link to this element">15.4. The <code id="c-167">\toplevel</code> implicit macro</a><span>  | <a href="#toc-toplevel">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<p id="p-273">Every Cirodown document is implicitly put inside a <code id="c-168">\toplevel</code> document and:<span class="hide-hover"> <a href="#p-273">(ðŸ”— link)</a></span>
</p>
<ul id="ul-35">
<li id="l-76">any optionally given arguments at the very beginning of the document will be treated as arguments of the <code id="c-177">\toplevel</code> macro</li>
<li id="l-77">anything else will be put inside the <code id="c-178">content</code> argument of the <code id="c-179">\toplevel</code> macro</li>
</ul>
<p id="p-274">E.g., a Cirodown document that contains:<span class="hide-hover"> <a href="#p-274">(ðŸ”— link)</a></span>
</p>
<pre id="c-70"><code>[title=My favorite title]

And now, some content!
</code></pre>
<p id="p-275">is morally equivalent to:<span class="hide-hover"> <a href="#p-275">(ðŸ”— link)</a></span>
</p>
<pre id="c-71"><code>\toplevel
[title=My favorite title]
[
And now, some content!
]
</code></pre>
<p id="p-276">In terms of HTML, the <code id="c-169">\toplevel</code> element corresponds to the <code id="c-170">&lt;html&gt;</code>, <code id="c-171">&lt;head&gt;</code>, <code id="c-172">&lt;header&gt;</code> and <code id="c-173">&lt;footer&gt;</code> elements of a document.<span class="hide-hover"> <a href="#p-276">(ðŸ”— link)</a></span>
</p>
<h4 id="html-document-title"><a href="#html-document-title" title="link to this element">15.4.1. HTML document title</a><span>  | <a href="#toc-html-document-title">â‡‘ toc</a> | <a href="#toplevel">â†‘ parent "The <code id="c-167">\toplevel</code> implicit macro"</a></span></h4>
<ul id="ul-36">
<li id="l-78">if the <code id="c-180">title</code> argument of <code id="c-181">toplevel</code> is given, use that</li>
<li id="l-79">otherwise, if the document has a <code id="c-182">\h[1]</code>, use the title of the first such header</li>
<li id="l-80">otherwise use a dummy value</li>
</ul>
<h3 id="css"><a href="#css" title="link to this element">15.5. CSS</a><span>  | <a href="#toc-css">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<p id="p-277">Our CSS is located at <a id="a-17" href="main.scss">main.scss</a> and gets processed through <a id="a-18" href="https://sass-lang.com/">Sass</a>.<span class="hide-hover"> <a href="#p-277">(ðŸ”— link)</a></span>
</p>
<p id="p-278">To generate the CSS during development after any changes to that file, you must run:<span class="hide-hover"> <a href="#p-278">(ðŸ”— link)</a></span>
</p>
<pre id="c-72"><code>npm sass
</code></pre>
<h3 id="formal-grammar"><a href="#formal-grammar" title="link to this element">15.6. Formal grammar</a><span>  | <a href="#toc-formal-grammar">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<p id="p-279">TODO. Describe Cirodown's formal grammar, and classify it in the grammar hierarchy and parsing complexity.<span class="hide-hover"> <a href="#p-279">(ðŸ”— link)</a></span>
</p>
<h3 id="todo"><a href="#todo" title="link to this element">15.7. TODO</a><span>  | <a href="#toc-todo">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<ul id="ul-37">
<li id="l-81">expose git revision, especially to multipage template</li>
<li id="l-82">multipage template language that cannot run forever like Liquid. Maybe: <a id="a-23" href="https://github.com/janl/mustache.js/">https://github.com/janl/mustache.js/</a></li>
<li id="l-83">cirodown : google analytics</li>
<li id="l-84">custom header, footer and HEAD based on files like header.html, footer.html</li>
<li id="l-85"><a href="#id-scope" id="x-55">id_scope</a></li>
<li id="l-86">browser live quick test</li>
<li id="l-87">list and code caption</li>
<li id="l-88">image description and source</li>
<li id="l-89">input indentation skip</li>
<li id="l-90">correct ID generation algorithm to be Unicode robust</li>
<li id="l-91">local downloads and single HTML page with image / script embeds</li>
<li id="l-92">image management: upload to separate media directory</li>
<li id="l-93">handle ID calculation from title if title has HTML elements, e.g. headers with code. Use that for the title as well.</li>
<li id="l-94">multiple newlines blow up (5 or six), create test and decide best behaviour</li>
<li id="l-95">LaTeX output</li>
<li id="l-96">autolinks http</li>
<li id="l-97">paragraphs rendered as divs, can show anything inside e.g. lists, code blocks</li>
</ul>
<h2 id="related-projects"><a href="#related-projects" title="link to this element">16. Related projects</a><span>  | <a href="#toc-related-projects">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<ul id="ul-38">
<li id="l-98"><a id="a-24" href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>, <a id="a-25" href="https://bookdown.org/">https://bookdown.org/</a>. Very similar feature set to what we want!!! Transpiles to markdown, and then goes through Pandoc: <a id="a-26" href="https://bookdown.org/yihui/bookdown/pandoc.html">https://bookdown.org/yihui/bookdown/pandoc.html</a>, thus will never run on browser without huge translation layers. But does have an obscene ammount of output formats however.</li>
<li id="l-99"><a id="a-27" href="https://gohugo.io/">Hugo</a>. Pretty good, similar feature set to ours. But Go based, so hard on browser, and adds adhoc features on top of markdown once again</li>
</ul>
<p id="p-280">Less related but of interest:<span class="hide-hover"> <a href="#p-280">(ðŸ”— link)</a></span>
</p>
<ul id="ul-39">
<li id="l-100"><a id="a-28" href="http://www.uprtcl.io/">http://www.uprtcl.io/</a></li>
<li id="l-101"><a id="a-29" href="https://libretexts.org">https://libretexts.org</a></li>
</ul>
</li>
</ul>
</body>
</html>
